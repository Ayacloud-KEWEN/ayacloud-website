<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pho Bamboo - Commande en ligne</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bamboo-primary: #2d5a27;
            --bamboo-secondary: #4a7c59;
            --bamboo-light: #8a9a5b;
            --bamboo-accent: #c9d4a2;
        }

        .bamboo-bg {
            background-color: var(--bamboo-primary) !important;
        }

        .bamboo-gradient {
            background: linear-gradient(135deg, var(--bamboo-primary) 0%, var(--bamboo-secondary) 100%);
        }

        .bamboo-light-bg {
            background-color: var(--bamboo-accent);
        }

        .bamboo-text {
            color: var(--bamboo-primary);
        }

        .bamboo-border {
            border-color: var(--bamboo-light);
        }

        .category-active {
            background-color: var(--bamboo-primary) !important;
            color: white !important;
        }

        .category-inactive {
            background-color: #f3f4f6 !important;
            color: #4b5563 !important;
            border: 1px solid #e5e7eb;
        }

        .category-inactive-mobile {
            background-color: rgba(255, 255, 255, 0.1) !important;
            color: white !important;
        }

        /* æ·»åŠ æŒ‰é’®åŠ¨ç”»æ•ˆæœ */
        .add-btn {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 90, 39, 0.3);
        }

        .add-btn:active {
            transform: translateY(0);
        }

        .add-btn-success {
            background-color: #10b981 !important;
            color: white !important;
        }

        .add-btn-pulse {
            animation: pulse 0.5s ease;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .cart-btn-pulse {
            animation: cartPulse 0.3s ease;
        }

        @keyframes cartPulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .quantity-btn {
            transition: all 0.1s ease;
        }

        .quantity-btn:active {
            background-color: #e5e7eb;
            transform: scale(0.95);
        }

        /* æ•°é‡æ›´æ–°åŠ¨ç”» */
        .quantity-update {
            animation: quantityUpdate 0.3s ease;
        }

        @keyframes quantityUpdate {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .menu-item {
                padding: 1rem;
            }

            .menu-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .cart-sidebar {
                width: 100% !important;
            }

            .btn-mobile {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .text-mobile {
                font-size: 0.875rem;
            }

            .h-mobile {
                height: 40px;
            }

            /* ç§»åŠ¨ç«¯åˆ†ç±»èœå•å§‹ç»ˆæ˜¾ç¤º */
            #mobile-categories {
                display: block !important;
            }
        }

        /* è§¦æ‘¸ä¼˜åŒ– */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
        }

        /* æ»šåŠ¨ä¼˜åŒ– */
        .scroll-smooth {
            scroll-behavior: smooth;
        }

        /* ç«¹çº¹èƒŒæ™¯ */
        .bamboo-pattern {
            background-image:
                linear-gradient(90deg, transparent 79px, #abcea1 79px, #abcea1 81px, transparent 81px),
                linear-gradient(#eee .1em, transparent .1em);
            background-size: 100% 1.2em;
            background-color: #f9f7f0;
        }

        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨ */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800" style="touch-action: manipulation;">
    <nav class="bamboo-gradient text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="flex flex-col items-center">
                        <i class="fa-solid fa-bowl-food"></i>
                        <div class="w-6 h-1 bg-white rounded-full mt-1"></div>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Pho Bamboo</h1>
                        <p class="text-xs opacity-80">PUTEAUX-LA DÃ‰FENSE</p>
                    </div>
                </div>

                <div class="flex items-center space-x-3">
                    <div class="hidden sm:flex items-center space-x-1 bg-white/20 px-2 py-1 rounded-lg text-sm">
                        <i class="fas fa-table text-xs"></i>
                        <span id="table-number" class="font-medium">T12</span>
                    </div>

                    <button onclick="toggleCart()" id="cart-button" class="relative touch-target">
                        <div class="flex items-center bg-white/20 px-3 py-2 rounded-lg">
                            <i class="fas fa-shopping-cart"></i>
                            <span id="cart-count" class="ml-2 font-bold">0</span>
                        </div>
                        <div id="cart-indicator"
                            class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center hidden">
                            <span id="cart-indicator-count">!</span>
                        </div>
                    </button>

                    <!--<button onclick="toggleMenuCategories()"
                        class="sm:hidden touch-target w-10 h-10 flex items-center justify-center">
                        <i class="fas fa-bars text-xl"></i>
                    </button>*/ -->
                </div>
            </div>

            <div id="mobile-categories" class="sm:hidden py-3 border-t border-white/20 hidden">
                <div class="flex overflow-x-auto scrollbar-hide space-x-2 pb-2">
                    <button onclick="filterCategory('all')" data-category="all"
                        class="category-btn category-active flex-shrink-0 px-4 py-2 rounded-full">
                        Tout
                    </button>
                    <button onclick="filterCategory('pho')" data-category="pho"
                        class="category-btn category-inactive-mobile flex-shrink-0 px-4 py-2 rounded-full">
                        Pho
                    </button>
                    <button onclick="filterCategory('entrees')" data-category="entrees"
                        class="category-btn category-inactive-mobile flex-shrink-0 px-4 py-2 rounded-full">
                        EntrÃ©es
                    </button>
                    <button onclick="filterCategory('boissons')" data-category="boissons"
                        class="category-btn category-inactive-mobile flex-shrink-0 px-4 py-2 rounded-full">
                        Boissons
                    </button>
                    <button onclick="filterCategory('desserts')" data-category="desserts"
                        class="category-btn category-inactive-mobile flex-shrink-0 px-4 py-2 rounded-full">
                        Desserts
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-4 pb-24">
        <div class="mb-6">
            <div class="bg-white rounded-2xl shadow-sm p-5 bamboo-pattern">
                <div class="flex items-start justify-between">
                    <div>
                        <h2 class="text-2xl font-bold bamboo-text mb-1">Bienvenue chez Pho Bamboo</h2>
                        <p class="text-gray-600 text-mobile">SpÃ©cialitÃ©s VIET & THAÃ</p>
                    </div>
                    <div class="bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 shadow">
                        <div class="flex items-center">
                            <i class="fas fa-coins text-yellow-500 mr-2"></i>
                            <div>
                                <p class="text-xs text-gray-500">Vos points</p>
                                <p class="font-bold bamboo-text" id="user-points">250</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="hidden sm:flex space-x-2 mt-6">
                    <button onclick="filterCategory('all')" data-category="all"
                        class="category-btn category-active flex-shrink-0 px-4 py-2 rounded-full">
                        Tout voir
                    </button>
                    <button onclick="filterCategory('pho')" data-category="pho"
                        class="category-btn category-inactive flex-shrink-0 px-4 py-2 rounded-full">
                        Pho SpÃ©cialitÃ©s
                    </button>
                    <button onclick="filterCategory('entrees')" data-category="entrees"
                        class="category-btn category-inactive flex-shrink-0 px-4 py-2 rounded-full">
                        EntrÃ©es
                    </button>
                    <button onclick="filterCategory('boissons')" data-category="boissons"
                        class="category-btn category-inactive flex-shrink-0 px-4 py-2 rounded-full">
                        Boissons
                    </button>
                    <button onclick="filterCategory('desserts')" data-category="desserts"
                        class="category-btn category-inactive flex-shrink-0 px-4 py-2 rounded-full">
                        Desserts
                    </button>
                </div>
            </div>
        </div>

        <div id="menu-grid" class="menu-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            </div>

        <div class="fixed bottom-20 right-4 z-30">
            <div class="flex flex-col space-y-2">
                <button onclick="scrollToTop()"
                    class="touch-target w-12 h-12 rounded-full bamboo-gradient text-white shadow-lg flex items-center justify-center">
                    <i class="fas fa-arrow-up"></i>
                </button>
                <button onclick="showQRInfo()"
                    class="touch-target w-12 h-12 rounded-full bg-white bamboo-border border text-gray-700 shadow-lg flex items-center justify-center">
                    <i class="fas fa-qrcode"></i>
                </button>
            </div>
        </div>
    </main>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-40">
        <div class="container mx-auto">
            <div class="flex justify-around items-center h-16">
                <button onclick="filterCategory('all')"
                    class="flex flex-col items-center justify-center touch-target px-2">
                    <i class="fas fa-home text-lg bamboo-text"></i>
                    <span class="text-xs mt-1">Accueil</span>
                </button>

                <button onclick="filterCategory('pho')"
                    class="flex flex-col items-center justify-center touch-target px-2">
                    <i class="fas fa-bowl-food text-lg text-gray-500"></i>
                    <span class="text-xs mt-1">Pho</span>
                </button>

                <button onclick="toggleCart()" class="relative touch-target">
                    <div class="flex flex-col items-center justify-center">
                        <i class="fas fa-shopping-cart text-xl bamboo-text"></i>
                        <span class="text-xs mt-1">Panier</span>
                    </div>
                    <div id="bottom-cart-indicator"
                        class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center hidden">
                        <span id="bottom-cart-count">0</span>
                    </div>
                </button>

                <button onclick="showUserProfile()" class="flex flex-col items-center justify-center touch-target px-2">
                    <i class="fas fa-user text-lg text-gray-500"></i>
                    <span class="text-xs mt-1">Compte</span>
                </button>
            </div>
        </div>
    </div>

    <div id="cart-sidebar"
        class="fixed top-0 right-0 w-full sm:w-96 h-full bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="h-full flex flex-col">
            <div class="bamboo-gradient text-white p-6">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <button onclick="toggleCart()"
                            class="touch-target w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h3 class="text-xl font-bold">Votre Commande</h3>
                    </div>
                    <div class="text-right">
                        <p class="text-sm opacity-90">Table <span id="cart-table-number">12</span></p>
                    </div>
                </div>

                <div class="mt-6 bg-white/10 rounded-lg p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p id="cart-item-count" class="text-sm">0 articles</p>
                            <p id="cart-points-earned" class="text-xs opacity-90">+0 points</p>
                        </div>
                        <div class="text-right">
                            <p class="text-2xl font-bold" id="cart-sidebar-total">0â‚¬</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="cart-items" class="flex-1 overflow-y-auto p-4">
                <div id="empty-cart-message" class="text-center py-12">
                    <div class="w-24 h-24 mx-auto mb-6 rounded-full bamboo-light-bg flex items-center justify-center">
                        <i class="fas fa-shopping-basket text-3xl bamboo-text"></i>
                    </div>
                    <p class="bamboo-text font-bold text-lg mb-2">Panier vide</p>
                    <p class="text-gray-500 text-sm">Ajoutez des plats depuis le menu</p>
                    <button onclick="toggleCart()"
                        class="mt-6 px-6 py-3 bamboo-gradient text-white rounded-lg font-bold">
                        Parcourir le menu
                    </button>
                </div>
            </div>

            <div class="border-t p-4">
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <label class="text-gray-700 font-medium">Instructions spÃ©ciales</label>
                        <button onclick="showCommonInstructions()" class="text-xs bamboo-text">Suggestions</button>
                    </div>
                    <textarea id="order-notes" class="w-full border rounded-lg p-3 text-sm" rows="2"
                        placeholder="Ex: Sans coriandre, extra piment, allergies..."></textarea>
                </div>

                <div class="space-y-3">
                    <button onclick="checkout()"
    class="w-full bamboo-gradient text-white py-3 px-5 rounded-xl font-bold shadow-xl touch-target flex items-center justify-between transition-transform active:scale-95">
    
    <div class="flex items-center space-x-3">
        <i class="fa-brands fa-whatsapp text-3xl"></i>
        
        <div class="flex flex-col items-start text-left">
            <span class="text-xs opacity-80 font-normal uppercase tracking-wide">Commander via</span>
            <span class="text-lg leading-none">WhatsApp</span>
        </div>
    </div>

    <div class="bg-white/20 backdrop-blur-sm px-3 py-2 rounded-lg border border-white/10">
        <span id="checkout-total">0â‚¬</span>
    </div>
</button>

                    <div class="text-center text-xs text-gray-500">
                        <p><i class="fas fa-coins mr-1"></i> Vous gagnerez <span id="checkout-points"
                                class="font-bold">0</span> points</p>
                        <p class="mt-1">Paiement sÃ©curisÃ© avec Stripe</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="toggleCart()"></div>

    <div id="qr-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-2xl max-w-md w-full">
            <div class="bamboo-gradient text-white p-6 rounded-t-2xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold">Scanner pour commander</h3>
                    <button onclick="closeQRModal()"
                        class="touch-target w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="inline-block p-4 bg-gray-100 rounded-lg mb-4">
                        <div class="w-48 h-48 mx-auto relative">
                            <div class="absolute inset-0 bg-gradient-to-br from-green-100 to-green-300 rounded-lg">
                            </div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="grid grid-cols-8 gap-1 mb-3 mx-auto w-32">
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                        <div class="w-3 h-3 bg-green-800 rounded-sm"></div>
                                    </div>
                                    <span class="text-xs text-gray-600 font-bold">PHO BAMBOO</span>
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-500 mt-3">Pointez votre camÃ©ra vers le QR code</p>
                    </div>

                    <div class="space-y-3 text-left">
                        <div class="flex items-start">
                            <div
                                class="w-6 h-6 rounded-full bamboo-gradient text-white flex items-center justify-center text-xs mr-3 flex-shrink-0">
                                1</div>
                            <div>
                                <p class="font-medium">Scannez le code QR sur votre table</p>
                                <p class="text-sm text-gray-500">Ou Ã  l'entrÃ©e du restaurant</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div
                                class="w-6 h-6 rounded-full bamboo-gradient text-white flex items-center justify-center text-xs mr-3 flex-shrink-0">
                                2</div>
                            <div>
                                <p class="font-medium">Commandez directement depuis votre tÃ©lÃ©phone</p>
                                <p class="text-sm text-gray-500">Pas d'application Ã  tÃ©lÃ©charger</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div
                                class="w-6 h-6 rounded-full bamboo-gradient text-white flex items-center justify-center text-xs mr-3 flex-shrink-0">
                                3</div>
                            <div>
                                <p class="font-medium">Recevez vos points fidÃ©litÃ©</p>
                                <p class="text-sm text-gray-500">10 points par euro dÃ©pensÃ©</p>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="closeQRModal()"
                    class="w-full bamboo-border border text-gray-700 py-3 rounded-lg font-medium">
                    Compris
                </button>
            </div>
        </div>
    </div>

    <div id="notification"
        class="fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 z-50 max-w-sm">
        <div class="flex items-start">
            <i class="fas fa-check-circle text-xl mr-3 flex-shrink-0"></i>
            <div>
                <p class="font-bold" id="notification-title">SuccÃ¨s</p>
                <p id="notification-message" class="text-sm mt-1"></p>
            </div>
        </div>
    </div>

    <script>
        // èœå•æ•°æ®
        const menuData = [
            {
                id: 1,
                name_fr: "Pho BÅ“uf Traditionnel",
                name_vn: "Phá»Ÿ BÃ² Truyá»n Thá»‘ng",
                description: "Bouillon de bÅ“uf mijotÃ© 24h, nouilles de riz, bÅ“uf tendre",
                price: 14.90,
                category: "pho",
                image: "https://www.lestresorsduvietnam.fr/wp-content/uploads/2023/07/Le-Pho-Bo-pho-vietnamien-et-ses-epices.jpg",
                popular: true,
                spicy: false,
                vegan: false
            },
            {
                id: 2,
                name_fr: "Pho au Poulet",
                name_vn: "Phá»Ÿ GÃ ",
                description: "Bouillon de poulet, blanc de poulet, herbes fraÃ®ches",
                price: 13.90,
                category: "pho",
                image: "https://images.getrecipekit.com/20250122163352-pho-20vietnamien-20au-20poulet-20et-20herbes-20fra-c3-aeches.jpg?aspect_ratio=16:9&quality=90&",
                popular: true,
                spicy: false,
                vegan: false
            },
            {
                id: 3,
                name_fr: "Pho VÃ©gÃ©tarien",
                name_vn: "Phá»Ÿ Chay",
                description: "Bouillon de lÃ©gumes, tofu, champignons, lÃ©gumes de saison",
                price: 12.90,
                category: "pho",
                image: "https://www.cuisineactuelle.fr/imgre/fit/~1~cac~2022~01~06~4126da1e-96cf-4258-b9f1-b1888eda4fae.jpeg/750x562/quality/80/crop-from/center/cr/wqkgVmVsc2JlcmcgLyBQaG90b2N1aXNpbmUJIC8gQ3Vpc2luZSBBY3R1ZWxsZQ%3D%3D/focus-point/2231%2C3302/pho-vegetarien-soupe-vietnamienne.jpeg",
                popular: false,
                spicy: false,
                vegan: true
            },
            {
                id: 4,
                name_fr: "Nems au Porc (4 piÃ¨ces)",
                name_vn: "Cháº£ GiÃ²",
                description: "Nems croustillants, porc et lÃ©gumes, sauce nuoc mam",
                price: 7.90,
                category: "entrees",
                image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?w=400&h=300&fit=crop&crop=center",
                popular: true,
                spicy: false,
                vegan: false
            },
            {
                id: 5,
                name_fr: "Salade de Papaye Verte",
                name_vn: "Gá»i Äu Äá»§",
                description: "Papaye verte, crevettes sÃ©chÃ©es, cacahuÃ¨tes, vinaigrette",
                price: 8.50,
                category: "entrees",
                image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400&h=300&fit=crop&crop=center",
                popular: false,
                spicy: true,
                vegan: false
            },
            {
                id: 6,
                name_fr: "CafÃ© Vietnamien GlacÃ©",
                name_vn: "CÃ  PhÃª Sá»¯a ÄÃ¡",
                description: "CafÃ© fort avec lait concentrÃ© sucrÃ©, servi glacÃ©",
                price: 4.50,
                category: "boissons",
                image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=400&h=300&fit=crop&crop=center",
                popular: true,
                spicy: false,
                vegan: false
            },
            {
                id: 7,
                name_fr: "ThÃ© Vert Jasmin",
                name_vn: "TrÃ  LÃ i",
                description: "ThÃ© vert parfumÃ© au jasmin, servi chaud",
                price: 3.50,
                category: "boissons",
                image: "https://images.unsplash.com/photo-1561047029-3000c68339ca?w=400&h=300&fit=crop&crop=center",
                popular: false,
                spicy: false,
                vegan: true
            },
            {
                id: 8,
                name_fr: "Che Trois Couleurs",
                name_vn: "ChÃ¨ Ba MÃ u",
                description: "Dessert aux haricots, gelÃ©e, lait de coco",
                price: 6.50,
                category: "desserts",
                image: "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400&h=300&fit=crop&crop=center",
                popular: false,
                spicy: false,
                vegan: true
            }
        ];

        // åº”ç”¨çŠ¶æ€
        let cart = JSON.parse(localStorage.getItem('phoBambooCart')) || [];
        let currentCategory = 'all';
        let activeAddButtons = new Set(); // è·Ÿè¸ªæ­£åœ¨åŠ¨ç”»çš„æŒ‰é’®

        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', function () {
            updateCartDisplay();
            renderMenu();
            updatePointsDisplay();
            updateCategoryButtons();

            /* å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œæ·»åŠ æ¼”ç¤ºå•†å“
            if (cart.length === 0 && !localStorage.getItem('phoBambooFirstVisit')) {
                addToCart(1, 1);
                addToCart(4, 1);
                localStorage.setItem('phoBambooFirstVisit', 'true');
            } */
        });

        // æ›´æ–°åˆ†ç±»æŒ‰é’®çŠ¶æ€
        function updateCategoryButtons() {
            // æ¡Œé¢ç«¯æŒ‰é’®
            const desktopButtons = document.querySelectorAll('.hidden.sm\\:flex .category-btn');
            desktopButtons.forEach(btn => {
                const category = btn.getAttribute('data-category');
                if (category === currentCategory) {
                    btn.classList.remove('category-inactive');
                    btn.classList.add('category-active');
                } else {
                    btn.classList.remove('category-active');
                    btn.classList.add('category-inactive');
                }
            });

            // ç§»åŠ¨ç«¯æŒ‰é’®
            const mobileButtons = document.querySelectorAll('#mobile-categories .category-btn');
            mobileButtons.forEach(btn => {
                const category = btn.getAttribute('data-category');
                if (category === currentCategory) {
                    btn.classList.remove('category-inactive-mobile');
                    btn.classList.add('category-active');
                } else {
                    btn.classList.remove('category-active');
                    btn.classList.add('category-inactive-mobile');
                }
            });
        }

        // æ¸²æŸ“èœå•
        function renderMenu() {
            const menuGrid = document.getElementById('menu-grid');
            menuGrid.innerHTML = '';

            const filteredDishes = currentCategory === 'all'
                ? menuData
                : menuData.filter(dish => dish.category === currentCategory);

            if (filteredDishes.length === 0) {
                menuGrid.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <i class="fas fa-utensils text-4xl bamboo-text opacity-50 mb-4"></i>
                        <p class="bamboo-text font-bold text-lg">Aucun plat disponible</p>
                        <p class="text-gray-500 mt-2">Cette catÃ©gorie est temporairement vide</p>
                    </div>
                `;
                return;
            }

            filteredDishes.forEach(dish => {
                const dishElement = document.createElement('div');
                dishElement.className = 'bg-white rounded-xl shadow-sm overflow-hidden fade-in border bamboo-border';

                // è·å–å½“å‰èœå“åœ¨è´­ç‰©è½¦ä¸­çš„æ•°é‡
                const cartItem = cart.find(item => item.id === dish.id);
                const quantityInCart = cartItem ? cartItem.quantity : 0;

                // æ ‡ç­¾ç”Ÿæˆ
                let tags = '';
                if (dish.popular) tags += '<span class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs font-bold mr-2">POPULAIRE</span>';
                if (dish.spicy) tags += '<span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs font-bold mr-2">Ã‰PICÃ‰</span>';
                if (dish.vegan) tags += '<span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold mr-2">VÃ‰GÃ‰TALIEN</span>';

                dishElement.innerHTML = `
                    <div class="relative">
                        <img src="${dish.image}" alt="${dish.name_fr}" 
                             class="w-full h-48 object-cover"
                             loading="lazy">
                        <div class="absolute top-3 left-3 flex flex-wrap gap-1">
                            ${tags}
                        </div>
                        <div class="absolute bottom-3 right-3 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 shadow">
                            <span class="text-xl font-bold bamboo-text">${dish.price.toFixed(2)}â‚¬</span>
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="mb-2">
                            <h3 class="text-lg font-bold bamboo-text">${dish.name_fr}</h3>
                            <p class="text-sm text-gray-600 italic">${dish.name_vn}</p>
                        </div>
                        <p class="text-gray-600 text-sm mb-4">${dish.description}</p>
                        <div class="flex items-center justify-between">
                            <div class="text-xs text-gray-500 flex items-center">
                                <i class="fas fa-coins text-amber-500 mr-1"></i>
                                ${getPointsFromPrice(dish.price)} pts
                                ${quantityInCart > 0 ?
                        `<span 
        data-menu-badge="${dish.id}"
        class="ml-2 bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold">
        ${quantityInCart} dans le panier
    </span>` : ''
                    }

                            </div>
                            <button id="add-btn-${dish.id}" 
                                    onclick="addToCart(${dish.id}, 1, this)" 
                                    class="add-btn touch-target bamboo-gradient text-white px-4 py-3 rounded-lg font-bold text-sm flex items-center">
                                <i class="fas fa-plus mr-2"></i>
                                ${quantityInCart > 0 ? 'Ajouter +' : 'Ajouter'}
                            </button>
                        </div>
                    </div>
                `;
                menuGrid.appendChild(dishElement);
            });
        }

        // è¿‡æ»¤åˆ†ç±»
        function filterCategory(category) {
            currentCategory = category;
            updateCategoryButtons();
            renderMenu();
            scrollToTop();
        }

        // åˆ‡æ¢ç§»åŠ¨ç«¯åˆ†ç±»èœå•æ˜¾ç¤º
        function toggleMenuCategories() {
            const categories = document.getElementById('mobile-categories');
            categories.classList.toggle('hidden');
        }

        // è´­ç‰©è½¦åŠŸèƒ½
        function addToCart(dishId, quantity, buttonElement = null) {
            const dish = menuData.find(d => d.id === dishId);
            if (!dish) return;

            // æ·»åŠ æŒ‰é’®åé¦ˆæ•ˆæœ
            if (buttonElement) {
                provideButtonFeedback(buttonElement);
            }

            const existingItem = cart.find(item => item.id === dishId);

            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: dish.id,
                    name_fr: dish.name_fr,
                    price: dish.price,
                    quantity: quantity,
                    image: dish.image
                });
            }

            saveCart();
            updateCartDisplay();
            showNotification('AjoutÃ© au panier', `${dish.name_fr} a Ã©tÃ© ajoutÃ©`);

            // æ›´æ–°èœå•ä¸Šçš„è§’æ ‡ï¼ˆè€Œä¸æ˜¯é‡ç»˜æ•´ä¸ªèœå•ï¼‰
            const currentQty = existingItem ? existingItem.quantity : quantity;
            updateMenuQuantityBadge(dish.id, currentQty);

            /* åœ¨ç§»åŠ¨ç«¯è‡ªåŠ¨æ‰“å¼€è´­ç‰©è½¦
            if (window.innerWidth < 768 && cart.length === 1) {
                setTimeout(() => toggleCart(), 300);
            } */
        }

        // æä¾›æŒ‰é’®åé¦ˆæ•ˆæœ
        function provideButtonFeedback(buttonElement) {
            if (!buttonElement || activeAddButtons.has(buttonElement.id)) return;

            activeAddButtons.add(buttonElement.id);

            // æ·»åŠ åŠ¨ç”»ç±»
            buttonElement.classList.add('add-btn-pulse');
            buttonElement.classList.add('add-btn-success');

            // ä¸´æ—¶æ”¹å˜æŒ‰é’®æ–‡æœ¬
            const originalText = buttonElement.innerHTML;
            buttonElement.innerHTML = '<i class="fas fa-check mr-2"></i>AjoutÃ© !';

            // ç§»é™¤åŠ¨ç”»æ•ˆæœ
            setTimeout(() => {
                buttonElement.classList.remove('add-btn-pulse');
            }, 500);

            // æ¢å¤åŸå§‹çŠ¶æ€
            setTimeout(() => {
                buttonElement.classList.remove('add-btn-success');
                buttonElement.innerHTML = originalText;
                activeAddButtons.delete(buttonElement.id);
            }, 1000);
        }

        function updateCartDisplay() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            // æ›´æ–°è®¡æ•°
            document.getElementById('cart-count').textContent = cartCount;
            document.getElementById('bottom-cart-count').textContent = cartCount;
            document.getElementById('cart-indicator-count').textContent = cartCount > 9 ? '9+' : cartCount;

            // æ›´æ–°é‡‘é¢
            document.getElementById('cart-sidebar-total').textContent = `${cartTotal.toFixed(2)}â‚¬`;
            document.getElementById('checkout-total').textContent = `${cartTotal.toFixed(2)}â‚¬`;
            document.getElementById('cart-item-count').textContent = `${cartCount} article${cartCount !== 1 ? 's' : ''}`;
            document.getElementById('checkout-points').textContent = getPointsFromPrice(cartTotal);
            document.getElementById('cart-points-earned').textContent = `+${getPointsFromPrice(cartTotal)} points`;

            // æ›´æ–°è´­ç‰©è½¦æŒ‡ç¤ºå™¨
            const indicator = document.getElementById('cart-indicator');
            const bottomIndicator = document.getElementById('bottom-cart-indicator');

            if (cartCount > 0) {
                indicator.classList.remove('hidden');
                bottomIndicator.classList.remove('hidden');
                // è´­ç‰©è½¦æŒ‰é’®åŠ¨ç”»
                const cartButton = document.getElementById('cart-button');
                cartButton.classList.add('cart-btn-pulse');
                setTimeout(() => cartButton.classList.remove('cart-btn-pulse'), 300);
            } else {
                indicator.classList.add('hidden');
                bottomIndicator.classList.add('hidden');
            }

            // æ›´æ–°è´­ç‰©è½¦å•†å“åˆ—è¡¨
            updateCartItemsList();
        }

        function updateCartItemsList() {
            const cartItemsContainer = document.getElementById('cart-items');
            
            // å®šä¹‰ç©ºè´­ç‰©è½¦çš„ HTML æ¨¡æ¿ï¼ˆè§£å†³DOMå…ƒç´ è¢«é”€æ¯çš„é—®é¢˜ï¼‰
            const emptyCartHTML = `
                <div id="empty-cart-message" class="text-center py-12 fade-in">
                    <div class="w-24 h-24 mx-auto mb-6 rounded-full bamboo-light-bg flex items-center justify-center">
                        <i class="fas fa-shopping-basket text-3xl bamboo-text"></i>
                    </div>
                    <p class="bamboo-text font-bold text-lg mb-2">Panier vide</p>
                    <p class="text-gray-500 text-sm">Ajoutez des plats depuis le menu</p>
                    <button onclick="toggleCart()"
                        class="mt-6 px-6 py-3 bamboo-gradient text-white rounded-lg font-bold">
                        Parcourir le menu
                    </button>
                </div>
            `;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = emptyCartHTML;
            } else {
                let itemsHTML = '';
                cart.forEach(item => {
                    itemsHTML += `
                        <div class="bg-gray-50 rounded-lg p-4 mb-3 fade-in">
                            <div class="flex items-center">
                                <img src="${item.image}" alt="${item.name_fr}" 
                                     class="w-16 h-16 object-cover rounded-lg">
                                <div class="ml-4 flex-1">
                                    <h4 class="font-bold text-sm bamboo-text">${item.name_fr}</h4>
                                    <p class="text-gray-500 text-xs">${item.price.toFixed(2)}â‚¬ l'unitÃ©</p>
                                </div>
                                <div class="flex flex-col items-end">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <button onclick="updateCartItemQuantity(${item.id}, -1)" 
                                                class="quantity-btn touch-target w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-200">
                                            <i class="fas fa-minus text-xs"></i>
                                        </button>
                                        <span id="cart-item-quantity-${item.id}" class="font-bold min-w-8 text-center quantity-display">${item.quantity}</span>
                                        <button onclick="updateCartItemQuantity(${item.id}, 1)" 
                                                class="quantity-btn touch-target w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-200">
                                            <i class="fas fa-plus text-xs"></i>
                                        </button>
                                    </div>
                                    <div class="flex items-center">
                                        <span id="cart-item-total-${item.id}" class="font-bold bamboo-text">${(item.price * item.quantity).toFixed(2)}â‚¬</span>
                                        <button onclick="removeFromCart(${item.id})" 
                                                class="touch-target text-red-500 hover:text-red-700 ml-3">
                                            <i class="fas fa-trash text-sm"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                cartItemsContainer.innerHTML = itemsHTML;
            }
        }

        // æ›´æ–°è´­ç‰©è½¦å•†å“æ•°é‡
        function updateCartItemQuantity(dishId, change) {
            const itemIndex = cart.findIndex(item => item.id === dishId);
            if (itemIndex === -1) return;

            const item = cart[itemIndex];
            item.quantity += change;

            // æ•°é‡ <= 0ï¼Œåˆ é™¤
            if (item.quantity <= 0) {
                removeFromCart(dishId);
                return;
            }

            saveCart();

            // ===== å±€éƒ¨æ›´æ–° UI =====
            const quantityEl = document.getElementById(`cart-item-quantity-${dishId}`);
            const totalEl = document.getElementById(`cart-item-total-${dishId}`);

            if (quantityEl) {
                quantityEl.textContent = item.quantity;
                quantityEl.classList.add('quantity-update');
                setTimeout(() => quantityEl.classList.remove('quantity-update'), 300);
            }

            if (totalEl) {
                totalEl.textContent = `${(item.price * item.quantity).toFixed(2)}â‚¬`;
                totalEl.classList.add('quantity-update');
                setTimeout(() => totalEl.classList.remove('quantity-update'), 300);
            }

            updateCartTotals();
            updateMenuQuantityBadge(dishId, item.quantity);
        }

        function updateMenuQuantityBadge(dishId, quantity) {
            const badge = document.querySelector(`[data-menu-badge="${dishId}"]`);
            const btn = document.getElementById(`add-btn-${dishId}`);

            // å¦‚æœå·²ç»å­˜åœ¨è§’æ ‡ï¼Œæ›´æ–°å®ƒ
            if (badge) {
                if (quantity > 0) {
                    badge.textContent = `${quantity} dans le panier`;
                } else {
                    badge.remove();
                }
            } 
            // å¦‚æœä¸å­˜åœ¨è§’æ ‡ä½†æ•°é‡>0ï¼Œæˆ‘ä»¬éœ€è¦æ’å…¥å®ƒï¼ˆè¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰é‡æ–°æ¸²æŸ“æˆ–è€…å¤æ‚çš„DOMæ’å…¥æ‰èƒ½è§£å†³ï¼Œ
            // ä½†ä¸ºäº†ç®€å•å’Œæ€§èƒ½ï¼Œå¦‚æœç”¨æˆ·åœ¨è´­ç‰©è½¦é¡µé¢æ”¹æ•°é‡ï¼Œå›åˆ°ä¸»é¡µé€šå¸¸èƒ½æ¥å—ä¸å³æ—¶æ˜¾ç¤ºæ–°è§’æ ‡ï¼Œ
            // é™¤éæˆ‘ä»¬å®Œå…¨å®ç°DOMæ’å…¥é€»è¾‘ã€‚ä¸ºäº†ç¨³å¥ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ›´æ–°å·²å­˜åœ¨çš„ï¼Œ
            // æˆ–è€…é‡æ–°è·å–çˆ¶å…ƒç´ æ’å…¥ - ç®€å•çš„åšæ³•æ˜¯é‡æ–°æ¸²æŸ“ï¼Œä½†ä¸ºäº†æ€§èƒ½æˆ‘ä»¬å‰é¢å»æ‰äº†ã€‚
            // å¦¥åæ–¹æ¡ˆï¼šå¦‚æœæ‰¾ä¸åˆ°badgeä½†éœ€è¦æ˜¾ç¤ºï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¸åšæ“ä½œï¼Œç”¨æˆ·ä¸‹æ¬¡åˆ·æ–°æˆ–åˆ‡æ¢åˆ†ç±»æ—¶ä¼šçœ‹åˆ°ã€‚ï¼‰
            
            // æ›´æ–°æŒ‰é’®æ–‡å­—
            if (btn) {
                btn.innerHTML = `<i class="fas fa-plus mr-2"></i>${quantity > 0 ? 'Ajouter +' : 'Ajouter'}`;
            }
        }


        // æ›´æ–°è´­ç‰©è½¦æ€»é¢å’Œè®¡æ•°
        function updateCartTotals() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            // æ›´æ–°è®¡æ•°
            document.getElementById('cart-count').textContent = cartCount;
            document.getElementById('bottom-cart-count').textContent = cartCount;
            document.getElementById('cart-indicator-count').textContent = cartCount > 9 ? '9+' : cartCount;

            // æ›´æ–°é‡‘é¢
            document.getElementById('cart-sidebar-total').textContent = `${cartTotal.toFixed(2)}â‚¬`;
            document.getElementById('checkout-total').textContent = `${cartTotal.toFixed(2)}â‚¬`;
            document.getElementById('cart-item-count').textContent = `${cartCount} article${cartCount !== 1 ? 's' : ''}`;
            document.getElementById('checkout-points').textContent = getPointsFromPrice(cartTotal);
            document.getElementById('cart-points-earned').textContent = `+${getPointsFromPrice(cartTotal)} points`;

            // æ›´æ–°è´­ç‰©è½¦æŒ‡ç¤ºå™¨
            const indicator = document.getElementById('cart-indicator');
            const bottomIndicator = document.getElementById('bottom-cart-indicator');

            if (cartCount > 0) {
                indicator.classList.remove('hidden');
                bottomIndicator.classList.remove('hidden');
            } else {
                indicator.classList.add('hidden');
                bottomIndicator.classList.add('hidden');
            }
        }

        // å…¼å®¹æ€§å‡½æ•°
        function updateCartItem(dishId, change, buttonElement = null) {
            updateCartItemQuantity(dishId, change);

            // ä¸ºæŒ‰é’®æä¾›åé¦ˆæ•ˆæœ
            if (buttonElement) {
                buttonElement.classList.add('quantity-btn');
                setTimeout(() => buttonElement.classList.remove('quantity-btn'), 150);
            }
        }

        function removeFromCart(dishId) {
            const itemIndex = cart.findIndex(item => item.id === dishId);
            if (itemIndex !== -1) {
                const removedItem = cart[itemIndex];
                
                // ä»æ•°ç»„ä¸­ç§»é™¤
                cart.splice(itemIndex, 1);
                saveCart();
                
                // åˆ·æ–°æ˜¾ç¤º
                updateCartDisplay();
                
                // åŒæ­¥æ›´æ–°èœå•ä¸Šçš„è§’æ ‡
                updateMenuQuantityBadge(dishId, 0);
                
                showNotification('RetirÃ© du panier', `${removedItem.name_fr} a Ã©tÃ© retirÃ©`);
            }
        }

        function saveCart() {
            localStorage.setItem('phoBambooCart', JSON.stringify(cart));
        }

// ==========================================
        // WHATSAPP é…ç½®
        // è¯·å°†æ­¤å¤„çš„å·ç æ›¿æ¢ä¸ºè€æ¿çš„æ‰‹æœºå· (å›½é™…æ ¼å¼ï¼Œä¸è¦åŠ  + å·)
        // ä¾‹å¦‚æ³•å›½å·ç  (06 12 34 56 78) -> "33612345678"
        const RESTAURANT_PHONE = "33764575572"; 
        // ==========================================

        function checkout() {
            // è®¡ç®—æ€»ä»·
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            // è·å–å¤‡æ³¨
            const notes = document.getElementById('order-notes').value;
            // è·å–æ¡Œå·
            const tableNumber = document.getElementById('table-number').textContent;

            // æ£€æŸ¥è´­ç‰©è½¦æ˜¯å¦ä¸ºç©º
            if (cart.length === 0) {
                showNotification('Panier vide', 'Ajoutez des plats avant de commander');
                return;
            }

            // 1. æ„å»º WhatsApp æ¶ˆæ¯å†…å®¹ (æ³•è¯­æ ¼å¼ï¼Œé€‚åˆæ³•å›½é¤é¦†)
            let message = `ğŸ”” *NOUVELLE COMMANDE - ${tableNumber}*\n`; // æ ‡é¢˜ï¼šæ–°è®¢å• - æ¡Œå·
            message += `ğŸ—“ï¸ ${new Date().toLocaleTimeString()}\n`;       // æ—¶é—´
            message += `------------------------------\n`;

            // å¾ªç¯æ·»åŠ èœå“
            cart.forEach(item => {
                const subtotal = (item.price * item.quantity).toFixed(2);
                message += `â–ªï¸ ${item.quantity}x ${item.name_fr} (${subtotal}â‚¬)\n`;
            });

            message += `------------------------------\n`;
            message += `ğŸ’° *TOTAL: ${cartTotal.toFixed(2)}â‚¬*\n`; // æ€»é‡‘é¢

            // å¦‚æœæœ‰ç‰¹æ®Šå¤‡æ³¨ï¼ŒåŠ åœ¨æœ€å
            if (notes && notes.trim() !== "") {
                message += `\nğŸ“ *Note:* ${notes}\n`;
            }

            // 2. ç¼–ç æ¶ˆæ¯ URL å¹¶æ‰“å¼€ WhatsApp
            // encodeURIComponent ç”¨äºç¡®ä¿ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ¢è¡Œï¼‰èƒ½è¢«æ­£ç¡®ä¼ è¾“
            const whatsappUrl = `https://wa.me/${RESTAURANT_PHONE}?text=${encodeURIComponent(message)}`;
            
            // åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ (ç”µè„‘ç‰ˆ) æˆ– ç›´æ¥è·³è½¬ (æ‰‹æœºç‰ˆ)
            window.open(whatsappUrl, '_blank');

            // 3. åç»­æ¸…ç†å·¥ä½œ (ç§¯åˆ†ã€æ¸…ç©ºè´­ç‰©è½¦ç­‰)
            
            // æç¤ºç”¨æˆ·
            showNotification('Commande prÃ©parÃ©e !',
                `Veuillez confirmer l'envoi sur WhatsApp.`); // "è¯·åœ¨ WhatsApp ä¸Šç¡®è®¤å‘é€"

            // æ›´æ–°ç”¨æˆ·ç§¯åˆ†
            updateUserPoints(getPointsFromPrice(cartTotal));

            // å‘é€åæ¸…ç©ºè´­ç‰©è½¦
            cart = [];
            saveCart();
            updateCartDisplay();
            toggleCart();

            // æ¸…ç©ºå¤‡æ³¨æ 
            document.getElementById('order-notes').value = '';

            // é‡æ–°æ¸²æŸ“èœå• (ä¸ºäº†ç§»é™¤èœå“ä¸Šçš„æ•°é‡è§’æ ‡)
            setTimeout(() => {
                renderMenu();
            }, 300);
        }

        // ç§¯åˆ†ç³»ç»Ÿ
        function getPointsFromPrice(price) {
            return Math.floor(price * 10);
        }

        function updateUserPoints(pointsToAdd) {
            let currentPoints = parseInt(document.getElementById('user-points').textContent);
            currentPoints += pointsToAdd;
            document.getElementById('user-points').textContent = currentPoints;
            localStorage.setItem('phoBambooPoints', currentPoints);
        }

        function updatePointsDisplay() {
            const points = localStorage.getItem('phoBambooPoints') || 250;
            document.getElementById('user-points').textContent = points;
        }

        // UIåŠŸèƒ½
        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');

            if (sidebar.classList.contains('translate-x-full')) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }

        function showQRInfo() {
            document.getElementById('qr-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeQRModal() {
            document.getElementById('qr-modal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        function showCommonInstructions() {
            const notes = document.getElementById('order-notes');
            const suggestions = [
                "Sans coriandre",
                "Extra piment",
                "Allergie aux arachides",
                "Sans gluten si possible",
                "Viande bien cuite"
            ];

            const randomSuggestion = suggestions[Math.floor(Math.random() * suggestions.length)];
            notes.value = notes.value ? notes.value + ', ' + randomSuggestion : randomSuggestion;

            showNotification('Suggestion ajoutÃ©e', 'Instruction ajoutÃ©e aux notes');
        }

        function showUserProfile() {
            const points = document.getElementById('user-points').textContent;
            showNotification('Votre compte', `Vous avez ${points} points fidÃ©litÃ©`);
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            const titleElement = document.getElementById('notification-title');
            const messageElement = document.getElementById('notification-message');

            titleElement.textContent = title;
            messageElement.textContent = message;

            notification.classList.remove('translate-x-full');

            setTimeout(() => {
                notification.classList.add('translate-x-full');
            }, 3000);
        }

        // æ¨¡æ‹Ÿæ‰«æQRç 
        function simulateQRScan(tableNumber) {
            document.getElementById('table-number').textContent = tableNumber;
            document.getElementById('cart-table-number').textContent = tableNumber;
            showNotification(`Table ${tableNumber}`, 'QR code scannÃ© avec succÃ¨s');
        }
    </script>
</body>

</html>