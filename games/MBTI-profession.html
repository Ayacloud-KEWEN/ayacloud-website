<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>èŒåœºæ½œèƒ½æµ‹è¯„</title>
    <style>
        :root {
            --primary: #2563eb; /* å•†åŠ¡è“ */
            --secondary: #eff6ff; /* æµ…è“èƒŒæ™¯ */
            --text-dark: #1e293b;
            --text-light: #64748b;
            --accent: #0f172a;
            --card-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f1f5f9;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-dark);
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            height: 100%;
            max-height: 900px;
            background: white;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 500px) {
            .app-container {
                height: 90vh;
                border-radius: 20px;
                box-shadow: var(--card-shadow);
            }
        }

        /* é¡µé¢é€šç”¨æ ·å¼ */
        .page {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: opacity 0.4s ease, transform 0.4s ease;
            opacity: 0;
            pointer-events: none;
            transform: translateX(20px);
            background: white;
        }

        .page.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateX(0);
            z-index: 10;
        }

        /* 1. æ¬¢è¿é¡µ */
        .welcome-page {
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
        }
        .logo-icon { font-size: 60px; margin-bottom: 20px; }
        .welcome-title { font-size: 28px; font-weight: 700; margin-bottom: 10px; letter-spacing: 1px; }
        .welcome-subtitle { font-size: 16px; color: #94a3b8; line-height: 1.6; margin-bottom: 40px; max-width: 300px;}
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            transition: transform 0.1s;
        }
        .btn:active { transform: scale(0.96); }
        .btn-outline { background: transparent; border: 2px solid #cbd5e1; color: #64748b; margin-top: 15px; }

        /* 2. ç­”é¢˜é¡µ */
        .quiz-header {
            margin-bottom: 30px;
        }
        .progress-track {
            width: 100%; height: 6px; background: #f1f5f9; border-radius: 3px; overflow: hidden;
        }
        .progress-bar {
            height: 100%; background: var(--primary); width: 0%; transition: width 0.3s ease;
        }
        .question-counter {
            font-size: 12px; color: var(--text-light); margin-top: 8px; font-weight: 600; letter-spacing: 1px; text-transform: uppercase;
        }
        
        .question-card {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .scenario-tag {
            display: inline-block;
            background: var(--secondary);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 15px;
            align-self: flex-start;
        }
        .question-text {
            font-size: 22px; font-weight: 700; line-height: 1.4; margin-bottom: 40px;
        }
        
        .option-btn {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        .option-btn:hover { border-color: var(--primary); }
        .option-btn:active { background: var(--secondary); border-color: var(--primary); transform: scale(0.98); }
        .option-btn span { font-size: 16px; color: var(--text-dark); font-weight: 500; }

        /* 3. åŠ è½½é¡µ */
        .loading-page {
            justify-content: center;
            align-items: center;
            background: white;
        }
        .loader {
            width: 50px; height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        .loading-text { color: var(--text-light); font-size: 14px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* 4. ç»“æœé¡µ */
        .result-page {
            background: #f8fafc;
            padding: 0;
            overflow-y: auto;
        }
        .result-header {
            background: white;
            padding: 40px 30px;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            text-align: center;
        }
        .mbti-code {
            font-size: 48px; font-weight: 900; color: var(--primary); letter-spacing: 2px; margin: 10px 0;
        }
        .role-title {
            font-size: 20px; font-weight: 600; color: var(--text-dark); margin-bottom: 5px;
        }
        .role-tagline {
            font-size: 14px; color: var(--text-light);
        }

        .result-content { padding: 30px; }
        .analysis-card {
            background: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }
        .card-title {
            font-size: 14px; font-weight: 700; color: var(--text-light); text-transform: uppercase; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;
        }
        .tag-container { display: flex; flex-wrap: wrap; gap: 8px; }
        .tag { padding: 6px 12px; border-radius: 6px; font-size: 13px; background: #f1f5f9; color: var(--text-dark); }
        
        .highlight-list { list-style: none; padding: 0; margin: 0; }
        .highlight-list li {
            position: relative; padding-left: 20px; margin-bottom: 10px; font-size: 14px; color: #334155; line-height: 1.6;
        }
        .highlight-list li::before {
            content: "â€¢"; color: var(--primary); font-weight: bold; position: absolute; left: 0;
        }

    </style>
</head>
<body>

    <div class="app-container">

        <div class="page welcome-page active" id="p-welcome">
            <div class="logo-icon">ğŸ’¼</div>
            <h1 class="welcome-title">èŒä¸šæ€§æ ¼é›·è¾¾</h1>
            <p class="welcome-subtitle">åŸºäº MBTI ç†è®ºçš„èŒåœºé£æ ¼æµ‹è¯„ã€‚<br>12é“æƒ…æ™¯é¢˜ï¼Œå®šä½ä½ çš„èŒåœºä¼˜åŠ¿ã€æ²Ÿé€šåå¥½åŠæœ€é€‚åˆçš„å²—ä½ã€‚</p>
            <button class="btn" onclick="startQuiz()">å¼€å§‹æµ‹è¯„</button>
            <div style="font-size: 12px; color: #64748b; margin-top: 20px; opacity: 0.6;">é¢„è®¡è€—æ—¶: 2 åˆ†é’Ÿ</div>
        </div>

        <div class="page quiz-page" id="p-quiz">
            <div class="quiz-header">
                <div class="question-counter">Question <span id="q-current">1</span> / 12</div>
                <div class="progress-track">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>
            
            <div class="question-card">
                <div class="scenario-tag" id="q-tag">ä¼šè®®åœºæ™¯</div>
                <div class="question-text" id="q-text">åŠ è½½ä¸­...</div>
                <div id="options-container"></div>
            </div>
        </div>

        <div class="page loading-page" id="p-loading">
            <div class="loader"></div>
            <div class="loading-text">æ­£åœ¨æ„å»ºæ‚¨çš„èŒä¸šç”»åƒ...</div>
        </div>

        <div class="page result-page" id="p-result">
            <div class="result-header">
                <div style="font-size: 40px;">ğŸ¯</div>
                <div class="mbti-code" id="res-code">ESTJ</div>
                <div class="role-title" id="res-role">é«˜ç®¡å‹Â·æ‰§è¡Œå®˜</div>
                <div class="role-tagline" id="res-desc">æ•ˆç‡è‡³ä¸Šçš„è¡ŒåŠ¨æ´¾ï¼Œå¤©ç”Ÿçš„é¢†å¯¼è€…</div>
            </div>

            <div class="result-content">
                
                <div class="analysis-card">
                    <div class="card-title">âœ¨ æ ¸å¿ƒä¼˜åŠ¿ (Core Strengths)</div>
                    <ul class="highlight-list" id="res-strengths"></ul>
                </div>

                <div class="analysis-card">
                    <div class="card-title">ğŸ’¬ é¢è¯•å®˜çœ¼ä¸­çš„ä½ </div>
                    <div style="font-size: 14px; color: #334155; line-height: 1.6; font-style: italic;" id="res-impression"></div>
                </div>

                <div class="analysis-card">
                    <div class="card-title">ğŸš€ æ¨èå²—ä½</div>
                    <div class="tag-container" id="res-jobs"></div>
                </div>

                <button class="btn" style="width: 100%;" onclick="location.reload()">é‡æ–°æµ‹è¯„</button>
            </div>
        </div>

    </div>

    <script>
        // èŒåœºç‰ˆ MBTI é¢˜åº“ (12é¢˜ï¼Œæ¯ç»´åº¦3é¢˜)
        const questions = [
            // E/I
            {
                tag: "å›¢é˜Ÿåä½œ",
                text: "é‡åˆ°æ£˜æ‰‹çš„å·¥ä½œéš¾é¢˜æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ",
                options: [
                    { text: "æ‹‰ä¸ŠåŒäº‹å¼€ä¸ªçŸ­ä¼šï¼Œå¤´è„‘é£æš´è®¨è®ºè§£å†³ã€‚", type: "E" },
                    { text: "æˆ´ä¸Šè€³æœºï¼Œè‡ªå·±æŸ¥èµ„æ–™ã€æ¢³ç†é€»è¾‘ï¼Œç‹¬ç«‹è§£å†³ã€‚", type: "I" }
                ]
            },
            {
                tag: "åŠå…¬ç¯å¢ƒ",
                text: "å“ªç§åŠå…¬ç¯å¢ƒè®©ä½ æ•ˆç‡æ›´é«˜ï¼Ÿ",
                options: [
                    { text: "å¼€æ”¾å¼å·¥ä½ï¼Œéšæ—¶èƒ½å’Œå‘¨å›´äººäº¤æµã€‚", type: "E" },
                    { text: "å®‰é™çš„ç‹¬ç«‹ç©ºé—´ï¼Œæ²¡äººæ‰“æ‰°ã€‚", type: "I" }
                ]
            },
            {
                tag: "ä¼šè®®å‘è¨€",
                text: "åœ¨å¤§å‹éƒ¨é—¨ä¼šè®®ä¸Šï¼Œé€šå¸¸æƒ…å†µä¸‹ä½ ä¼šï¼Ÿ",
                options: [
                    { text: "ç§¯æå‘è¨€ï¼Œç»å¸¸æ˜¯æ‰“ç ´å†·åœºçš„é‚£ä¸ªäººã€‚", type: "E" },
                    { text: "å¤šå¬å°‘è¯´ï¼Œæ·±æ€ç†Ÿè™‘åæ‰å‘è¡¨å…³é”®æ„è§ã€‚", type: "I" }
                ]
            },
            // S/N
            {
                tag: "é¡¹ç›®æ‰§è¡Œ",
                text: "è€æ¿äº¤ç»™ä½ ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä½ æ›´å…³å¿ƒï¼Ÿ",
                options: [
                    { text: "å…·ä½“çš„æ‰§è¡Œæ­¥éª¤ã€é¢„ç®—ã€æ—¶é—´è¡¨å’Œè¿‡å¾€æ¡ˆä¾‹ã€‚", type: "S" },
                    { text: "é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼ã€æœªæ¥æ„¿æ™¯å’Œåˆ›æ–°ç©ºé—´ã€‚", type: "N" }
                ]
            },
            {
                tag: "å·¥ä½œé£æ ¼",
                text: "ä½ æ›´æ“…é•¿å¤„ç†å“ªç±»å·¥ä½œï¼Ÿ",
                options: [
                    { text: "éœ€è¦ç»†å¿ƒã€ä¸¥è°¨ã€å¤„ç†å¤§é‡ç»†èŠ‚å’Œæ•°æ®çš„å·¥ä½œã€‚", type: "S" },
                    { text: "éœ€è¦å®è§‚æŠŠæ§ã€æˆ˜ç•¥è§„åˆ’å’Œåˆ›æ„æ„æ€çš„å·¥ä½œã€‚", type: "N" }
                ]
            },
            {
                tag: "æ–¹æ¡ˆæ±‡æŠ¥",
                text: "åœ¨åšPPTæ±‡æŠ¥æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ",
                options: [
                    { text: "åˆ—å‡ºè¯¦å®çš„æ•°æ®å›¾è¡¨å’Œäº‹å®ä¾æ®ã€‚", type: "S" },
                    { text: "è®²è¿°å¼•äººå…¥èƒœçš„æ¦‚å¿µå’Œæœªæ¥è“å›¾ã€‚", type: "N" }
                ]
            },
            // T/F
            {
                tag: "å†³ç­–æ—¶åˆ»",
                text: "ä½œä¸ºTeam Leaderï¼Œéœ€è¦è¾é€€ä¸€åä¸šç»©ä¸è¾¾æ ‡ä½†å¾ˆåŠªåŠ›çš„å‘˜å·¥ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "è™½ç„¶éš¾è¿‡ï¼Œä½†ä¸ºäº†å›¢é˜Ÿç»©æ•ˆï¼Œå¿…é¡»æŒ‰è§„åˆ™æ‰§è¡Œã€‚", type: "T" },
                    { text: "éå¸¸çº ç»“ï¼Œè¯•å›¾ä¸ºä»–äº‰å–æœ€åçš„æœºä¼šæˆ–è½¬å²—ã€‚", type: "F" }
                ]
            },
            {
                tag: "åŒäº‹è¯„ä»·",
                text: "ä½ å¸Œæœ›åŒäº‹ä»¬å¦‚ä½•è¯„ä»·ä½ ï¼Ÿ",
                options: [
                    { text: "ä¸“ä¸šã€é«˜æ•ˆã€é€»è¾‘æ€§å¼ºã€‚", type: "T" },
                    { text: "å‹å–„ã€ä½“è´´ã€å¥½ç›¸å¤„ã€‚", type: "F" }
                ]
            },
            {
                tag: "æ„è§å†²çª",
                text: "ä¸åŒäº‹å‘ç”Ÿè§‚ç‚¹åˆ†æ­§æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "æ®ç†åŠ›äº‰ï¼Œå¯¹äº‹ä¸å¯¹äººï¼Œåªçœ‹è°çš„é€»è¾‘å¯¹ã€‚", type: "T" },
                    { text: "é¡¾åŠå¯¹æ–¹æ„Ÿå—ï¼Œå¯»æ‰¾æŠ˜ä¸­çš„ã€ä¸ä¼¤å’Œæ°”çš„æ–¹æ³•ã€‚", type: "F" }
                ]
            },
            // J/P
            {
                tag: "æ—¶é—´ç®¡ç†",
                text: "é¢å¯¹æˆªæ­¢æ—¥æœŸï¼ˆDeadlineï¼‰ï¼Œä½ çš„çŠ¶æ€é€šå¸¸æ˜¯ï¼Ÿ",
                options: [
                    { text: "æå‰è§„åˆ’ï¼ŒæŒ‰éƒ¨å°±ç­ï¼Œç”šè‡³æå‰å®Œæˆã€‚", type: "J" },
                    { text: "ä¸åˆ°æœ€åæ—¶åˆ»ä¸åŠ¨æ‰‹ï¼Œå‹åŠ›è¶Šå¤§çµæ„Ÿè¶Šå¤šã€‚", type: "P" }
                ]
            },
            {
                tag: "è®¡åˆ’å˜æ›´",
                text: "åŸæœ¬è®¡åˆ’å¥½çš„å·¥ä½œæµç¨‹è¢«çªå‘äº‹ä»¶æ‰“æ–­ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "æ„Ÿåˆ°ç„¦è™‘çƒ¦èºï¼Œå¸Œæœ›èƒ½å°½å¿«å›åˆ°è®¡åˆ’è½¨é“ã€‚", type: "J" },
                    { text: "è§‰å¾—æ— æ‰€è°“ï¼Œçµæ´»è°ƒæ•´ï¼Œäº«å—è§£å†³çªå‘çŠ¶å†µã€‚", type: "P" }
                ]
            },
            {
                tag: "æ¡Œé¢æ•´ç†",
                text: "çœ‹ä¸€çœ¼ä½ çš„ç”µè„‘æ¡Œé¢æˆ–åŠå…¬æ¡Œï¼Ÿ",
                options: [
                    { text: "æ–‡ä»¶åˆ†ç±»å½’æ¡£ï¼Œäº•äº•æœ‰æ¡ã€‚", type: "J" },
                    { text: "æ¯”è¾ƒéšæ€§ï¼Œæ–‡ä»¶é“ºå¼€ï¼Œä½†æˆ‘çŸ¥é“ä¸œè¥¿åœ¨å“ªã€‚", type: "P" }
                ]
            }
        ];

        // èŒåœºç»“æœåº“
        const resultsData = {
            "ISTJ": { title: "ç‰©æµå¸ˆ", subtitle: "ä¸¥è°¨å¯é çš„åŸºçŸ³", impression: "æåº¦é è°±ï¼Œæ³¨é‡ç»†èŠ‚ï¼Œéµå®ˆè§„åˆ™ã€‚ä¸å–œæ¬¢ç”»å¤§é¥¼ï¼Œåªçœ‹é‡ç»“æœå’Œæ‰§è¡ŒåŠ›ã€‚", strengths: ["æå¼ºçš„è´£ä»»å¿ƒ", "é€»è¾‘æ¸…æ™°", "èƒ½å¤Ÿåœ¨å¤§å‹åŠ›ä¸‹ä¿æŒä¸“æ³¨"], jobs: ["è´¢åŠ¡å®¡è®¡", "åç«¯å¼€å‘", "åˆè§„ä¸“å‘˜", "è¡Œæ”¿ç®¡ç†"] },
            "ISFJ": { title: "å®ˆæŠ¤è€…", subtitle: "æ¸©æš–ç»†è‡´çš„åä½œè€…", impression: "éå¸¸æœ‰è€å¿ƒï¼ŒæœåŠ¡æ„è¯†å¼ºã€‚æ˜¯å›¢é˜Ÿé‡Œçš„ç²˜åˆå‰‚ï¼Œé»˜é»˜æ‰¿æ‹…äº†å¾ˆå¤šçç¢å·¥ä½œã€‚", strengths: ["ä¼˜ç§€çš„åä½œèƒ½åŠ›", "å…³æ³¨ç»†èŠ‚", "å¿ è¯šä¸”å‹¤å¥‹"], jobs: ["äººåŠ›èµ„æº", "å®¢æˆ·æœåŠ¡", "æŠ¤å£«/åŒ»ç”Ÿ", "è¡Œæ”¿åŠ©ç†"] },
            "INFJ": { title: "å’¨è¯¢å¸ˆ", subtitle: "æ´å¯Ÿäººå¿ƒçš„å‚è°‹", impression: "è¯ä¸å¤šä½†å¾ˆæœ‰æ·±åº¦ï¼Œèƒ½ä¸€çœ¼çœ‹é€é—®é¢˜çš„æœ¬è´¨ã€‚éå¸¸é€‚åˆåšéœ€è¦æ·±å±‚æ€è€ƒçš„å·¥ä½œã€‚", strengths: ["æ·±åˆ»çš„æ´å¯ŸåŠ›", "åšå®šçš„ä¿¡å¿µ", "èƒ½å¤Ÿæ¿€åŠ±ä»–äºº"], jobs: ["å¿ƒç†å’¨è¯¢", "ç”¨æˆ·ç ”ç©¶", "ä¼ä¸šæ–‡åŒ–å»ºè®¾", "ç¼–è¾‘/ä½œå®¶"] },
            "INTJ": { title: "æˆ˜ç•¥å®¶", subtitle: "è¿½æ±‚å®Œç¾çš„ç­–åˆ’è€…", impression: "æ°”åœºå¼ºå¤§ï¼Œæ€ç»´ç¼œå¯†ã€‚åƒæ˜¯åœ¨ä¸‹ä¸€ç›˜å¤§æ£‹ï¼Œå¯¹å¹³åº¸çš„æ–¹æ¡ˆé›¶å®¹å¿ã€‚", strengths: ["é•¿è¿œæˆ˜ç•¥çœ¼å…‰", "ç‹¬ç«‹æ€è€ƒ", "é«˜æ ‡å‡†çš„æ‰§è¡ŒåŠ›"], jobs: ["æˆ˜ç•¥å’¨è¯¢", "ç³»ç»Ÿæ¶æ„å¸ˆ", "æŠ•èµ„åˆ†æ", "äº§å“æ€»ç›‘"] },
            "ISTP": { title: "å·§åŒ ", subtitle: "å†·é™çš„æŠ€æœ¯å¤§æ‹¿", impression: "äººç‹ è¯ä¸å¤šï¼Œé‡åˆ°æŠ€æœ¯éš¾é¢˜æ‰¾ä»–å‡†æ²¡é”™ã€‚ä¸å–œæ¬¢å¼€æ— æ„ä¹‰çš„ä¼šï¼Œåªæƒ³è§£å†³é—®é¢˜ã€‚", strengths: ["æå¼ºçš„åŠ¨æ‰‹èƒ½åŠ›", "å±æœºå¤„ç†", "ç†æ€§å®¢è§‚"], jobs: ["å·¥ç¨‹å¸ˆ", "æ•°æ®åˆ†æ", "ç‰¹è­¦/é£è¡Œå‘˜", "æŠ€æœ¯æ”¯æŒ"] },
            "ISFP": { title: "æ¢é™©å®¶", subtitle: "çµæ´»æ•é”çš„åˆ›ä½œè€…", impression: "å®¡ç¾åœ¨çº¿ï¼Œéšå’Œä½è°ƒã€‚ä¸å–œæ¬¢æ¡æ¡æ¡†æ¡†çš„æŸç¼šï¼Œéœ€è¦è‡ªç”±ç©ºé—´æ¥å‘æŒ¥æ‰åã€‚", strengths: ["æ•é”çš„å®¡ç¾", "é€‚åº”åŠ›å¼º", "æ‰“ç ´å¸¸è§„"], jobs: ["UI/UXè®¾è®¡", "æ’ç”»å¸ˆ", "æ—¶å°šä¹°æ‰‹", "è‡ªç”±èŒä¸š"] },
            "INFP": { title: "å“²å­¦å®¶", subtitle: "ç†æƒ³ä¸»ä¹‰çš„åˆ›æ„æº", impression: "å¤–æŸ”å†…åˆšï¼Œè„‘æ´å¾ˆå¤§ã€‚å¯¹å–œæ¬¢çš„äº‹æƒ…æåº¦æŠ•å…¥ï¼Œéœ€è¦å·¥ä½œçš„æ„ä¹‰æ„Ÿã€‚", strengths: ["ä¸°å¯Œçš„æƒ³è±¡åŠ›", "çœŸè¯šçš„åŒç†å¿ƒ", "æå…·åˆ›æ„"], jobs: ["å†…å®¹åˆ›ä½œ", "å…¬ç›Šç»„ç»‡", "è‰ºæœ¯è®¾è®¡", "äººåŠ›èµ„æº(OD)"] },
            "INTP": { title: "é€»è¾‘å­¦å®¶", subtitle: "å¥½å¥‡çš„è§£é¢˜ä¸“å®¶", impression: "è„‘å­è½¬å¾—é£å¿«ï¼Œæ€»èƒ½æå‡ºåˆé’»çš„è§’åº¦ã€‚æ¯”èµ·è½åœ°æ‰§è¡Œï¼Œæ›´å–œæ¬¢ç ”ç©¶ç†è®ºæ¨¡å‹ã€‚", strengths: ["æŠ½è±¡æ€ç»´", "å®¢è§‚åˆ†æ", "åˆ›æ–°è§£å†³æ–¹æ¡ˆ"], jobs: ["ç®—æ³•å·¥ç¨‹å¸ˆ", "ç§‘å­¦ç ”ç©¶", "é‡‘èåˆ†æ", "å¤§å­¦æ•™æˆ"] },
            "ESTP": { title: "ä¼ä¸šå®¶", subtitle: "é£é™©ä¸æœºé‡çš„æ•æ‰‹", impression: "ç²¾åŠ›æ—ºç››ï¼Œè‡ªæ¥ç†Ÿã€‚å¤©ç”Ÿçš„é”€å”®å¥‡æ‰ï¼Œå“ªé‡Œæœ‰æŒ‘æˆ˜å“ªé‡Œå°±æœ‰ä»–çš„èº«å½±ã€‚", strengths: ["å¤§èƒ†æœæ–­", "æå¼ºçš„è¯´æœåŠ›", "æ•é”çš„è§‚å¯ŸåŠ›"], jobs: ["å¸‚åœºé”€å”®", "å…¬å…³åª’ä»‹", "åˆ›ä¸šè€…", "å±æœºå…¬å…³"] },
            "ESFP": { title: "è¡¨æ¼”è€…", subtitle: "å›¢é˜Ÿçš„æ°”æ°›ç»„", impression: "ç¤¾ç‰›å±æ€§ï¼Œå……æ»¡æ„ŸæŸ“åŠ›ã€‚æœ‰ä»–åœ¨çš„å›¢é˜Ÿç»å¯¹ä¸ä¼šå†·åœºï¼Œéå¸¸æ“…é•¿è°ƒåŠ¨èµ„æºã€‚", strengths: ["å‡ºè‰²çš„äººé™…äº¤å¾€", "ä¹è§‚æŠ—å‹", "è¡¨ç°åŠ›å¼º"], jobs: ["æ´»åŠ¨ç­–åˆ’", "åŸ¹è®­å¸ˆ", "é”€å”®ä»£è¡¨", "ç›´æ’­ä¸»æ’­"] },
            "ENFP": { title: "è¿½æ¢¦äºº", subtitle: "å……æ»¡æ¿€æƒ…çš„è¿æ¥è€…", impression: "çƒ­æƒ…æ´‹æº¢ï¼Œç‚¹å­ç‹ã€‚è™½ç„¶æœ‰æ—¶å€™æ˜¾å¾—æ²¡é•¿æ€§ï¼Œä½†æ€»èƒ½å¸¦æ¥å…¨æ–°çš„è§†è§’ã€‚", strengths: ["æä½³çš„æ²Ÿé€šåŠ›", "åˆ›æ–°æ€ç»´", "æ¿€åŠ±å›¢é˜Ÿ"], jobs: ["å¸‚åœºè¥é”€", "åˆ›æ„æ€»ç›‘", "è®°è€…", "äº§å“ç»ç†"] },
            "ENTP": { title: "è¾©è®ºå®¶", subtitle: "æ‰“ç ´å¸¸è§„çš„é©æ–°è€…", impression: "èªæ˜ç»é¡¶ä½†æœ‰ç‚¹åéª¨ã€‚å–œæ¬¢æŒ‘æˆ˜æƒå¨ï¼Œæ€»åœ¨å¯»æ‰¾æ›´ä¼˜è§£ï¼ˆæˆ–æ·å¾„ï¼‰ã€‚", strengths: ["å¿«é€Ÿå­¦ä¹ ", "å¤´è„‘é£æš´", "æˆ˜ç•¥åˆ†æ"], jobs: ["åˆ›ä¸šåˆä¼™äºº", "å¾‹å¸ˆ", "ç®¡ç†å’¨è¯¢", "é£é™©æŠ•èµ„"] },
            "ESTJ": { title: "æ‰§è¡Œå®˜", subtitle: "é«˜æ•ˆé“è…•çš„ç®¡ç†è€…", impression: "é›·å‰é£è¡Œï¼Œç»“æœå¯¼å‘ã€‚å¦‚æœæ˜¯è€æ¿ï¼Œä¼šæ˜¯é‚£ç§è¦æ±‚ä¸¥æ ¼ä½†èƒ½å¸¦é˜Ÿæ‰“èƒœä»—çš„äººã€‚", strengths: ["å“è¶Šçš„ç»„ç»‡åŠ›", "ç›´æ¥é«˜æ•ˆ", "æ„å¿—åšå®š"], jobs: ["é¡¹ç›®ç»ç†", "é«˜ç®¡/CEO", "å†›å®˜", "è´¢åŠ¡æ€»ç›‘"] },
            "ESFJ": { title: "æ‰§æ”¿å®˜", subtitle: "çƒ­å¿ƒçš„ä¾›ç»™éƒ¨é•¿", impression: "éå¸¸å‘¨åˆ°ï¼Œè®°å¾—æ¯ä¸ªäººçš„ç”Ÿæ—¥ã€‚æ“…é•¿åè°ƒå„æ–¹åˆ©ç›Šï¼Œç¡®ä¿é¡¹ç›®å¹³ç¨³è½åœ°ã€‚", strengths: ["å¼ºå¤§çš„æ‰§è¡ŒåŠ›", "å›¢é˜Ÿå¿ è¯šåº¦", "ä¹äºåŠ©äºº"], jobs: ["è¡Œæ”¿æ€»ç›‘", "å¤§å®¢æˆ·é”€å”®", "æ•™åŠ¡ç®¡ç†", "å…¬å…³ç»ç†"] },
            "ENFJ": { title: "ä¸»äººå…¬", subtitle: "é­…åŠ›åè¶³çš„å¯¼å¸ˆ", impression: "å¤©ç”Ÿçš„é¢†è¢–æ°”è´¨ï¼Œè¯´è¯å¾ˆæœ‰ç…½åŠ¨æ€§ã€‚éå¸¸å…³æ³¨å‘˜å·¥æˆé•¿ï¼Œå¤§å®¶æ„¿æ„è¿½éšä»–ã€‚", strengths: ["æå¼ºçš„é¢†å¯¼åŠ›", "åŒç†å¿ƒ", "å‡ºè‰²çš„æ¼”è®²"], jobs: ["äººåŠ›èµ„æºæ€»ç›‘", "éç›ˆåˆ©ç»„ç»‡", "æ”¿å®¢", "åŸ¹è®­æ•™ç»ƒ"] },
            "ENTJ": { title: "æŒ‡æŒ¥å®˜", subtitle: "å¤©ç”Ÿçš„ç»Ÿå¸…", impression: "éœ¸æ°”ä¾§æ¼ï¼Œæ§åˆ¶æ¬²å¼ºã€‚ä¸ºäº†è¾¾æˆç›®æ ‡å¯ä»¥æ’é™¤ä¸‡éš¾ï¼Œæ•ˆç‡æœºå™¨ã€‚", strengths: ["å®è§‚æˆ˜ç•¥", "æœæ–­å†³ç­–", "æåº¦è‡ªä¿¡"], jobs: ["CEO/åˆ›å§‹äºº", "ç®¡ç†é¡¾é—®", "å¾‹å¸ˆ", "æŠ•èµ„é“¶è¡Œå®¶"] }
        };

        // é€»è¾‘å¤„ç†
        let currentQ = 0;
        let scores = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function startQuiz() {
            currentQ = 0;
            scores = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
            renderQuestion();
            showPage('p-quiz');
        }

        function renderQuestion() {
            const q = questions[currentQ];
            document.getElementById('q-current').innerText = currentQ + 1;
            document.getElementById('q-tag').innerText = q.tag;
            document.getElementById('q-text').innerText = q.text;
            
            // æ›´æ–°è¿›åº¦æ¡
            const pct = ((currentQ) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = pct + '%';

            const container = document.getElementById('options-container');
            container.innerHTML = '';

            q.options.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                btn.innerHTML = `<span>${opt.text}</span>`;
                btn.onclick = () => handleOptionClick(opt.type);
                container.appendChild(btn);
            });
        }

        function handleOptionClick(type) {
            scores[type]++;
            currentQ++;
            
            if (currentQ < questions.length) {
                renderQuestion();
            } else {
                document.getElementById('progress-bar').style.width = '100%';
                showPage('p-loading');
                setTimeout(calculateAndShowResult, 1500); // å‡è£…åˆ†æ1.5ç§’
            }
        }

        function calculateAndShowResult() {
            const mbti = [
                scores.E >= scores.I ? 'E' : 'I',
                scores.S >= scores.N ? 'S' : 'N',
                scores.T >= scores.F ? 'T' : 'F',
                scores.J >= scores.P ? 'J' : 'P'
            ].join('');

            const data = resultsData[mbti];
            
            document.getElementById('res-code').innerText = mbti;
            document.getElementById('res-role').innerText = data.title;
            document.getElementById('res-desc').innerText = data.subtitle;
            document.getElementById('res-impression').innerText = `â€œ${data.impression}â€`;

            // æ¸²æŸ“ä¼˜åŠ¿åˆ—è¡¨
            const strengthList = document.getElementById('res-strengths');
            strengthList.innerHTML = '';
            data.strengths.forEach(s => {
                const li = document.createElement('li');
                li.innerText = s;
                strengthList.appendChild(li);
            });

            // æ¸²æŸ“èŒä½æ ‡ç­¾
            const jobBox = document.getElementById('res-jobs');
            jobBox.innerHTML = '';
            data.jobs.forEach(j => {
                const span = document.createElement('span');
                span.className = 'tag';
                span.innerText = j;
                jobBox.appendChild(span);
            });

            showPage('p-result');
        }

    </script>
</body>
</html>