<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UNO Web</title>
    <style>
        :root {
            --red: #ff5555;
            --blue: #5555ff;
            --green: #55aa55;
            --yellow: #ffaa00;
            --black: #222;
            --bg: #0f380f; /* ç»å…¸çš„æ·±ç»¿è‰²æ¡Œå¸ƒèƒŒæ™¯ */
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            background-image: radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            user-select: none;
        }

        /* é¡¶éƒ¨å¯¹æ‰‹åŒºåŸŸ */
        .opponents {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            height: 80px;
        }

        .bot {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        .bot.active {
            opacity: 1;
            transform: scale(1.1);
        }
        .bot-avatar {
            width: 40px; height: 40px;
            background: #333;
            border-radius: 50%;
            border: 2px solid #fff;
            display: flex; justify-content: center; align-items: center;
            font-size: 20px;
            margin-bottom: 5px;
            position: relative;
        }
        .bot.active .bot-avatar {
            border-color: #ffaa00;
            box-shadow: 0 0 10px #ffaa00;
        }
        .card-count {
            font-size: 12px;
            color: white;
            background: rgba(0,0,0,0.5);
            padding: 2px 8px;
            border-radius: 10px;
        }

        /* æ¸¸æˆä¸­å¿ƒæ¡Œå­ */
        .table-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            gap: 20px;
        }

        /* å¡ç‰Œæ ·å¼ */
        .card {
            width: 70px;
            height: 105px;
            border-radius: 8px;
            position: relative;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            background: white; /* Base */
        }

        .card-inner {
            width: 85%;
            height: 90%;
            border-radius: 50% / 40%; /* æ¤­åœ† */
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            color: white;
            text-shadow: 1px 1px 0 #000;
            font-size: 40px;
            transform: rotate(-45deg); /* UNOç»å…¸æ–œä½“ */
        }
        
        /* å°è§’æ ‡ */
        .card::before, .card::after {
            content: attr(data-val);
            position: absolute;
            color: white;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 1px 1px 0 #000;
        }
        .card::before { top: 5px; left: 5px; }
        .card::after { bottom: 5px; right: 5px; transform: rotate(180deg); }

        /* é¢œè‰²å®šä¹‰ */
        .card.red { background: var(--red); }
        .card.blue { background: var(--blue); }
        .card.green { background: var(--green); }
        .card.yellow { background: var(--yellow); }
        .card.black { background: var(--black); }

        /* ç‰ŒèƒŒ */
        .card.back {
            background: #111;
            border: 3px solid white;
        }
        .card.back .card-inner {
            background: #ff5555;
            font-size: 24px;
            transform: rotate(0);
            border-radius: 50%;
            width: 60px; height: 60px;
            border: 2px solid white;
            box-shadow: inset 0 0 0 3px #111;
        }
        .card.back::before, .card.back::after { content: ''; }

        /* ç©å®¶æ‰‹ç‰ŒåŒº */
        .player-hand {
            height: 140px;
            display: flex;
            align-items: flex-end;
            justify-content: flex-start; /* å…è®¸æ»šåŠ¨ */
            padding: 10px 20px;
            overflow-x: auto;
            gap: -30px; /* å ç‰Œæ•ˆæœ */
            position: relative;
            z-index: 10;
        }
        
        .player-hand .card {
            margin-right: -30px; /* å ç‰Œ */
            flex-shrink: 0;
            transform-origin: bottom center;
        }
        
        .player-hand .card:hover, .player-hand .card:active {
            transform: translateY(-20px) scale(1.1);
            z-index: 100;
            margin-right: 0; /* å±•å¼€ä¸€ç‚¹ */
        }

        .player-hand .card.disabled {
            filter: brightness(0.5);
            pointer-events: none;
        }

        /* æ§ä»¶åŒº */
        .controls {
            position: absolute;
            right: 20px;
            bottom: 160px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        .uno-btn {
            width: 60px; height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ffaa00, #ff5555);
            color: white;
            font-weight: bold;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            font-size: 16px;
            cursor: pointer;
            animation: pulse 2s infinite;
            display: flex; justify-content: center; align-items: center;
        }
        
        .uno-btn.pressed {
            background: #55aa55;
            animation: none;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* é¢œè‰²é€‰æ‹©å™¨ Modal */
        .color-picker {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }
        .picker-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .color-opt {
            width: 80px; height: 80px;
            border-radius: 10px;
            cursor: pointer;
        }

        /* æç¤ºæ¶ˆæ¯ */
        .message-toast {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.2rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 150;
            text-align: center;
        }

        /* æŒ‡ç¤ºå™¨ */
        .direction-indicator {
            position: absolute;
            font-size: 40px;
            color: rgba(255,255,255,0.2);
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div class="opponents">
        <div class="bot" id="bot1">
            <div class="bot-avatar">ğŸ¤–</div>
            <div class="card-count">7</div>
        </div>
        <div class="bot" id="bot2">
            <div class="bot-avatar">ğŸ‘½</div>
            <div class="card-count">7</div>
        </div>
        <div class="bot" id="bot3">
            <div class="bot-avatar">ğŸ‘¾</div>
            <div class="card-count">7</div>
        </div>
    </div>

    <div class="table-area">
        <div class="direction-indicator" id="direction">â†»</div>
        
        <div class="card back" id="draw-pile">
            <div class="card-inner">UNO</div>
        </div>

        <div id="discard-pile">
            </div>
    </div>

    <div class="controls">
        <button class="uno-btn" id="uno-btn" onclick="callUno()">UNO</button>
    </div>

    <div class="player-hand" id="player-hand"></div>

    <div class="color-picker" id="color-picker">
        <div class="picker-content">
            <div class="color-opt" style="background:var(--red)" onclick="pickColor('red')"></div>
            <div class="color-opt" style="background:var(--blue)" onclick="pickColor('blue')"></div>
            <div class="color-opt" style="background:var(--green)" onclick="pickColor('green')"></div>
            <div class="color-opt" style="background:var(--yellow)" onclick="pickColor('yellow')"></div>
        </div>
    </div>

    <div class="message-toast" id="toast"></div>

    <script>
        // --- æ•°æ®å®šä¹‰ ---
        const COLORS = ['red', 'yellow', 'green', 'blue'];
        const SPECIALS = ['skip', 'reverse', 'draw2'];
        const WILDS = ['wild', 'draw4'];

        // æ¸¸æˆçŠ¶æ€
        let deck = [];
        let discardPile = [];
        let players = [
            { id: 0, name: "You", isBot: false, hand: [] },
            { id: 1, name: "Bot 1", isBot: true, hand: [] },
            { id: 2, name: "Bot 2", isBot: true, hand: [] },
            { id: 3, name: "Bot 3", isBot: true, hand: [] }
        ];
        let currentPlayer = 0; // 0 is Human
        let direction = 1; // 1: clockwise, -1: counter-clockwise
        let currentColor = ''; // å½“å‰æœ‰æ•ˆçš„é¢œè‰² (å¤„ç†ä¸‡èƒ½ç‰Œ)
        let unoCalled = false; // ç©å®¶æ˜¯å¦å–Šäº† UNO
        let gameActive = true;

        // --- DOM å…ƒç´  ---
        const playerHandEl = document.getElementById('player-hand');
        const discardPileEl = document.getElementById('discard-pile');
        const drawPileEl = document.getElementById('draw-pile');
        const toastEl = document.getElementById('toast');
        const colorPickerEl = document.getElementById('color-picker');
        const unoBtn = document.getElementById('uno-btn');
        const directionEl = document.getElementById('direction');

        // --- æ ¸å¿ƒé€»è¾‘ ---

        function initGame() {
            createDeck();
            shuffleDeck();
            dealCards();
            
            // ç¿»å¼€ç¬¬ä¸€å¼ ç‰Œ
            let firstCard = drawCardFromDeck();
            while (firstCard.color === 'black') { // é˜²æ­¢ç¬¬ä¸€å¼ æ˜¯åŠŸèƒ½ç‰Œï¼Œç®€å•å¤„ç†é‡æŠ½
                deck.push(firstCard);
                shuffleDeck();
                firstCard = drawCardFromDeck();
            }
            playCardToTable(firstCard, true);
            
            updateUI();
            gameLoop();
        }

        function createDeck() {
            deck = [];
            COLORS.forEach(color => {
                // 0 ä¸€å¼ 
                deck.push({ color, type: 'number', value: 0 });
                // 1-9 ä¸¤å¼ 
                for (let i = 1; i <= 9; i++) {
                    deck.push({ color, type: 'number', value: i });
                    deck.push({ color, type: 'number', value: i });
                }
                // åŠŸèƒ½ç‰Œ ä¸¤å¼ 
                SPECIALS.forEach(type => {
                    deck.push({ color, type: 'action', value: type });
                    deck.push({ color, type: 'action', value: type });
                });
            });
            // ä¸‡èƒ½ç‰Œ å››å¼ 
            WILDS.forEach(type => {
                for (let i = 0; i < 4; i++) {
                    deck.push({ color: 'black', type: 'wild', value: type });
                }
            });
        }

        function shuffleDeck() {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        function dealCards() {
            for (let i = 0; i < 7; i++) {
                players.forEach(p => p.hand.push(drawCardFromDeck()));
            }
        }

        function drawCardFromDeck() {
            if (deck.length === 0) {
                // æ´—å›å¼ƒç‰Œå † (ä¿ç•™æœ€ä¸Šé¢ä¸€å¼ )
                if (discardPile.length > 1) {
                    let top = discardPile.pop();
                    deck = discardPile;
                    discardPile = [top];
                    shuffleDeck();
                    showToast("æ´—ç‰Œä¸­...");
                } else {
                    showToast("æ²¡ç‰Œäº†ï¼å¹³å±€ï¼");
                    gameActive = false;
                    return null;
                }
            }
            return deck.pop();
        }

        // --- æ¸¸æˆå¾ªç¯ ---

        function gameLoop() {
            if (!gameActive) return;

            updateUI();

            const player = players[currentPlayer];
            
            // é«˜äº®å½“å‰ç©å®¶
            document.querySelectorAll('.bot').forEach(el => el.classList.remove('active'));
            if(currentPlayer !== 0) {
                document.getElementById('bot'+currentPlayer).classList.add('active');
            }

            if (player.isBot) {
                setTimeout(() => botTurn(player), 1500); // å»¶è¿Ÿä»¥æ¨¡æ‹Ÿæ€è€ƒ
            } else {
                // ç­‰å¾…ç©å®¶æ“ä½œ
                // æ£€æŸ¥æ˜¯å¦æœ‰ç‰Œå¯å‡ºï¼Œå¦‚æœæ²¡æœ‰ï¼Œè‡ªåŠ¨ç‚¹äº®æŠ½ç‰Œå †
                checkHumanMoves();
            }
        }

        function nextTurn() {
            // æ£€æŸ¥èƒœåˆ©
            if (players[currentPlayer].hand.length === 0) {
                if (currentPlayer === 0) alert("ä½ èµ¢äº†! ğŸ‰");
                else alert(players[currentPlayer].name + " èµ¢äº†!");
                gameActive = false;
                return;
            }

            // å¤„ç† UNO æ£€æŸ¥ (å¦‚æœåœ¨å€’æ•°ç¬¬äºŒå¼ æ—¶æ²¡å–Š)
            // è¿™é‡Œç®€åŒ–è§„åˆ™ï¼šå¦‚æœç©å®¶å‰©1å¼ ä¸”çŠ¶æ€ unoCalled ä¸º falseï¼Œåˆ™ç½šç‰Œ
            if (currentPlayer === 0 && players[0].hand.length === 1 && !unoCalled) {
                showToast("å¿˜è®°å–ŠUNOï¼ç½š2å¼ ï¼");
                players[0].hand.push(drawCardFromDeck());
                players[0].hand.push(drawCardFromDeck());
            }
            // é‡ç½® UNO çŠ¶æ€
            if (currentPlayer === 0) {
                unoCalled = false;
                unoBtn.classList.remove('pressed');
            }

            currentPlayer += direction;
            if (currentPlayer >= players.length) currentPlayer = 0;
            if (currentPlayer < 0) currentPlayer = players.length - 1;

            gameLoop();
        }

        // --- æ ¸å¿ƒè§„åˆ™ ---

        function canPlay(card) {
            const top = discardPile[discardPile.length - 1];
            
            // ä¸‡èƒ½ç‰Œéšæ—¶å¯å‡º
            if (card.color === 'black') return true;
            
            // åŒè‰²
            if (card.color === currentColor) return true;
            
            // åŒæ•°å­—/åŒåŠŸèƒ½
            if (card.value === top.value) return true;

            return false;
        }

        function playCardToTable(card, isSetup = false) {
            discardPile.push(card);
            currentColor = card.color === 'black' ? currentColor : card.color; // å¦‚æœæ˜¯ä¸‡èƒ½ç‰Œï¼Œæš‚ä¸æ”¹å˜é¢œè‰²ï¼Œç­‰æŒ‡å®š
            
            renderDiscardPile();

            if (isSetup) return;

            // å¤„ç†æ•ˆæœ
            if (card.type === 'action') {
                if (card.value === 'skip') {
                    showToast("è·³è¿‡!");
                    skipPlayer();
                } else if (card.value === 'reverse') {
                    showToast("åè½¬!");
                    direction *= -1;
                    directionEl.textContent = direction === 1 ? 'â†»' : 'â†º';
                    // ä¸¤äººè§„åˆ™ï¼šåè½¬=è·³è¿‡ï¼Œä½†åœ¨4äººå±€æ­£å¸¸åè½¬
                    if (players.length === 2) skipPlayer(); 
                } else if (card.value === 'draw2') {
                    showToast("+2 !");
                    drawCardsForNext(2);
                }
            } else if (card.type === 'wild') {
                if (card.value === 'draw4') {
                    showToast("+4 !");
                    drawCardsForNext(4);
                }
                // å˜è‰²é€»è¾‘ç”± playCard è§¦å‘çš„åç»­ promise å¤„ç†ï¼Œæˆ–è€… AI ç«‹å³å¤„ç†
            }
        }

        function skipPlayer() {
            currentPlayer += direction;
            if (currentPlayer >= players.length) currentPlayer = 0;
            if (currentPlayer < 0) currentPlayer = players.length - 1;
        }

        function drawCardsForNext(count) {
            let nextP = currentPlayer + direction;
            if (nextP >= players.length) nextP = 0;
            if (nextP < 0) nextP = players.length - 1;
            
            for(let i=0; i<count; i++) {
                players[nextP].hand.push(drawCardFromDeck());
            }
            // è¢«åŠ ç‰Œçš„ç©å®¶é€šå¸¸ä¼šè¢«è·³è¿‡
            skipPlayer();
        }

        // --- ç©å®¶æ“ä½œ ---

        function checkHumanMoves() {
            const playable = players[0].hand.some(c => canPlay(c));
            // å¦‚æœæ²¡ç‰Œå‡ºï¼Œå…è®¸ç‚¹å‡»ç‰Œå †
            drawPileEl.onclick = () => {
                drawPileEl.onclick = null; // é˜²æ­¢è¿ç‚¹
                const newCard = drawCardFromDeck();
                players[0].hand.push(newCard);
                updateUI();
                // å¦‚æœæ‘¸ä¸Šæ¥çš„èƒ½å‡ºï¼Œå…è®¸å‡ºï¼Œå¦åˆ™è¿‡
                if (canPlay(newCard)) {
                    showToast("æ‘¸åˆ°äº†èƒ½å‡ºçš„ç‰Œ");
                    // ä¿æŒå½“å‰å›åˆï¼Œé‡æ–°æ¸²æŸ“
                    // è‡ªåŠ¨é«˜äº®æ–°ç‰Œ
                } else {
                    showToast("æ‘¸ç‰Œè¿‡");
                    setTimeout(nextTurn, 1000);
                }
            };
        }

        function playerPlayCard(index) {
            if (currentPlayer !== 0) return;
            const card = players[0].hand[index];

            if (!canPlay(card)) {
                showToast("è¿™å¼ ç‰Œä¸èƒ½å‡º");
                return;
            }

            // ç§»é™¤æ‰‹ç‰Œ
            players[0].hand.splice(index, 1);
            
            // å¦‚æœæ˜¯é»‘è‰²ç‰Œï¼Œéœ€è¦é€‰è‰²
            if (card.color === 'black') {
                playCardToTable(card);
                renderHand(); // æ›´æ–°æ‰‹ç‰Œæ˜¾ç¤º
                // å¼¹å‡ºé€‰è‰²æ¡†
                colorPickerEl.style.display = 'flex';
                // é€»è¾‘æš‚åœï¼Œç­‰å¾…é€‰è‰²å›è°ƒ
            } else {
                playCardToTable(card);
                updateUI();
                setTimeout(nextTurn, 500);
            }
        }

        function pickColor(color) {
            colorPickerEl.style.display = 'none';
            currentColor = color;
            // æ›´æ–°å¼ƒç‰Œå †æœ€ä¸Šé¢çš„è§†è§‰é¢œè‰²ï¼ˆè™½ç„¶å®ƒæœ¬èº«æ˜¯é»‘è‰²ï¼Œä½†æˆ‘ä»¬éœ€è¦æŒ‡ç¤ºï¼‰
            renderDiscardPile(color); 
            showToast("å˜è‰²ä¸º: " + color);
            setTimeout(nextTurn, 500);
        }

        function callUno() {
            if (players[0].hand.length <= 2) {
                unoCalled = true;
                unoBtn.classList.add('pressed');
                showToast("UNO !!!");
            }
        }

        // --- AI é€»è¾‘ ---

        function botTurn(bot) {
            // 1. æ‰¾èƒ½å‡ºçš„ç‰Œ
            const playableCards = bot.hand.filter(c => canPlay(c));
            
            if (playableCards.length > 0) {
                // ç®€å•AIï¼šä¼˜å…ˆå‡ºåŠŸèƒ½ç‰Œï¼Œç„¶åæ˜¯å¤§æ•°å­—ï¼Œæœ€åæ˜¯å˜è‰²
                playableCards.sort((a, b) => {
                     if (a.color === 'black') return 1;
                     if (b.color === 'black') return -1;
                     if (a.type === 'action') return -1;
                     return 0;
                });

                const cardToPlay = playableCards[0];
                const idx = bot.hand.indexOf(cardToPlay);
                bot.hand.splice(idx, 1);

                // æ¨¡æ‹Ÿå–ŠUNO
                if (bot.hand.length === 1) {
                    if(Math.random() > 0.2) showToast(bot.name + ": UNO!");
                }

                playCardToTable(cardToPlay);

                if (cardToPlay.color === 'black') {
                    // AI é€‰è‰²ï¼šé€‰æ‰‹é‡Œæœ€å¤šçš„é¢œè‰²
                    const counts = { red:0, blue:0, green:0, yellow:0 };
                    bot.hand.forEach(c => { if(c.color!=='black') counts[c.color]++ });
                    const bestColor = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
                    currentColor = bestColor;
                    renderDiscardPile(bestColor);
                    showToast(bot.name + " é€‰æ‹©äº† " + bestColor);
                }

                updateUI();
                setTimeout(nextTurn, 1000);

            } else {
                // æ²¡ç‰Œå‡ºï¼Œæ‘¸ç‰Œ
                const newCard = drawCardFromDeck();
                bot.hand.push(newCard);
                updateUI();
                showToast(bot.name + " æ‘¸äº†ä¸€å¼ ");
                
                // å¦‚æœæ‘¸åˆ°äº†èƒ½å‡ºçš„ï¼ŒAIç›®å‰ç®€å•å¤„ç†ï¼šè¿˜æ˜¯è¿‡ï¼Œç®€åŒ–é€»è¾‘
                setTimeout(nextTurn, 1000);
            }
        }


        // --- æ¸²æŸ“ UI ---

        function updateUI() {
            // æ›´æ–°Botç‰Œæ•°
            for(let i=1; i<=3; i++) {
                document.querySelector(`#bot${i} .card-count`).innerText = players[i].hand.length;
            }
            renderHand();
        }

        function renderHand() {
            playerHandEl.innerHTML = '';
            players[0].hand.forEach((card, index) => {
                const el = createCardEl(card);
                el.onclick = () => playerPlayCard(index);
                
                // åªæœ‰åœ¨è½®åˆ°ç©å®¶æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦å¯ç”¨
                if (currentPlayer === 0) {
                    if (!canPlay(card)) el.classList.add('disabled');
                } else {
                    el.classList.add('disabled');
                }
                
                playerHandEl.appendChild(el);
            });
        }

        function renderDiscardPile(overrideColor = null) {
            discardPileEl.innerHTML = '';
            const topCard = discardPile[discardPile.length - 1];
            const el = createCardEl(topCard);
            
            // å¦‚æœæ˜¯é»‘è‰²ç‰Œä¸”å·²é€‰è‰²ï¼Œå¼ºåˆ¶æ”¹å˜èƒŒæ™¯è‰²ä»¥æç¤º
            if (topCard.color === 'black' && (currentColor || overrideColor)) {
                el.style.background = `var(--${overrideColor || currentColor})`;
            } else if (overrideColor) {
                 // ä¸ºäº†è§†è§‰ä¸€è‡´æ€§
                 // el.classList.remove(topCard.color);
                 // el.style.background = `var(--${overrideColor})`;
            }

            discardPileEl.appendChild(el);
        }

        function createCardEl(card) {
            const div = document.createElement('div');
            div.className = `card ${card.color}`;
            div.dataset.val = getCardSymbol(card);
            
            const inner = document.createElement('div');
            inner.className = 'card-inner';
            
            // æ¸²æŸ“ä¸­é—´çš„å¤§å›¾æ ‡
            inner.innerHTML = getCardContent(card);
            
            div.appendChild(inner);
            return div;
        }

        function getCardSymbol(card) {
            if (card.type === 'number') return card.value;
            if (card.value === 'skip') return 'âŠ˜';
            if (card.value === 'reverse') return 'â‡„';
            if (card.value === 'draw2') return '+2';
            if (card.value === 'wild') return 'W';
            if (card.value === 'draw4') return '+4';
            return '';
        }

        function getCardContent(card) {
            if (card.type === 'number') return card.value;
            if (card.value === 'skip') return 'âŠ˜';
            if (card.value === 'reverse') return 'â‡„';
            if (card.value === 'draw2') return '+2';
            if (card.value === 'wild') return 'ğŸŒˆ';
            if (card.value === 'draw4') return '+4';
            return '';
        }

        function showToast(msg) {
            toastEl.innerText = msg;
            toastEl.style.opacity = 1;
            setTimeout(() => toastEl.style.opacity = 0, 1500);
        }

        // å¯åŠ¨
        initGame();

    </script>
</body>
</html>