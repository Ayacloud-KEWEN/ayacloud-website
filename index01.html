<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>AYA CLOUD — Map App Studio (Blue-Black Sci-Fi)</title>
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/img/Ayacloud.png" type="image/png">

  <!-- 预加载关键资源 -->
  <link rel="preload" href="img/ayacloud.png" as="image">
  <link rel="preload" href="img/earth.jpg" as="image">

  <!-- Fonts + Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

  <style>
    :root {
      --bg-dark: #030b17;
      --neon-1: #00b7ff;
      --neon-2: #007bff;
      --accent: #33e1ff;
      --glass: rgba(255, 255, 255, 0.05);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    html,
    body {
      height: 100%
    }

    body {
      font-family: Inter, Arial, sans-serif;
      background:
        radial-gradient(800px 600px at 15% 10%, rgba(0, 123, 255, 0.12), transparent),
        radial-gradient(1200px 800px at 85% 90%, rgba(0, 183, 255, 0.08), transparent),
        var(--bg-dark);
      color: #e5f3ff;
      overflow-x: hidden;
    }

    /* background particles canvas */
    #bg-canvas {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none
    }

    header {
      position: fixed;
      top: 18px;
      left: 24px;
      right: 24px;
      z-index: 40;
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    .logo-row {
      display: flex;
      align-items: center;
      gap: 12px
    }

    .logo {
      width: 70px;
      height: 70px;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--neon-2), var(--neon-1));
      box-shadow: 0 6px 30px rgba(0, 183, 255, 0.18);
    }

    .logo img {
      width: 68px;
      height: 68px;
      object-fit: contain
    }

    nav {
      display: flex;
      align-items: center;
      gap: 18px
    }

    .nav-links {
      display: flex;
      gap: 18px;
      list-style: none
    }

    .nav-links a {
      color: rgba(255, 255, 255, 0.9);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 8px
    }

    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 120px 28px 80px;
      position: relative;
      z-index: 10
    }

    .hero-panel {
      width: 100%;
      max-width: 1200px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.02));
      border: 1px solid rgba(255, 255, 255, 0.04);
      border-radius: 18px;
      padding: 48px;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
      display: grid;
      grid-template-columns: 1fr 420px;
      gap: 30px;
      align-items: center
    }

    .kicker {
      font-family: Orbitron, Arial;
      font-size: 12px;
      color: var(--accent);
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 12px
    }

    .hero-title {
      font-family: Orbitron;
      font-size: 46px;
      line-height: 1.05;
      color: #eaf6ff;
      text-shadow: 0 0 30px rgba(0, 123, 255, 0.38)
    }

    .hero-sub {
      margin-top: 14px;
      color: rgba(210, 230, 255, 0.9);
      font-size: 16px
    }

    .cta-row {
      margin-top: 24px;
      display: flex;
      gap: 12px
    }

    .cta {
      padding: 14px 22px;
      border-radius: 12px;
      background: linear-gradient(90deg, var(--neon-1), var(--neon-2));
      color: #001;
      font-weight: 700;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 30px rgba(0, 123, 255, 0.25)
    }

    .cta.secondary {
      background: transparent;
      color: #dbeafe;
      border: 1px solid rgba(255, 255, 255, 0.08)
    }

    .holo {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
      border-radius: 14px;
      padding: 12px 18px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      position: relative;
      overflow: hidden
    }

    .holo canvas {
      width: 100%;
      height: 320px;
      border-radius: 12px;
      display: block;
      background: transparent;
    }

    section {
      padding: 80px 48px
    }

    .section-title {
      font-family: Orbitron;
      color: var(--neon-1);
      font-size: 28px;
      margin-bottom: 20px
    }

    footer {
      padding: 26px;
      text-align: center;
      color: rgba(200, 210, 230, 0.6)
    }

    .contact-link {
      text-decoration: none;
    }

    /* 汉堡菜单样式 */
    .mobile-menu-toggle {
      display: none;
      font-size: 20px;
      color: white;
      cursor: pointer;
      padding: 8px;
      z-index: 50;
    }

    /* 移动端适配样式 */
    @media (max-width: 768px) {
      /* 头部导航 */
      header {
        left: 12px;
        right: 12px;
        top: 12px;
      }

      .logo {
        width: 50px;
        height: 50px;
      }

      .logo img {
        width: 48px;
        height: 48px;
      }

      .logo-row div:first-child + div {
        font-size: 14px;
      }

      .logo-row div:first-child + div div:last-child {
        font-size: 10px;
      }

      /* 汉堡菜单 */
      .mobile-menu-toggle {
        display: block;
      }

      nav {
        position: fixed;
        top: 80px;
        right: -100%;
        background: var(--bg-dark);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        transition: right 0.3s ease;
        backdrop-filter: blur(10px);
        z-index: 45;
      }

      nav.active {
        right: 20px;
      }

      .nav-links {
        flex-direction: column;
        gap: 12px;
      }

      .nav-links a {
        padding: 12px 20px;
        display: block;
        text-align: center;
      }

      /* 英雄区域 */
      .hero {
        padding: 100px 16px 40px;
        min-height: 90vh;
      }

      .hero-panel {
        grid-template-columns: 1fr;
        padding: 24px;
        gap: 20px;
      }

      .hero-title {
        font-size: 32px;
        line-height: 1.1;
      }

      .hero-sub {
        font-size: 14px;
        margin-top: 12px;
      }

      .cta-row {
        flex-direction: column;
        gap: 8px;
        margin-top: 20px;
      }

      .cta {
        padding: 12px 16px;
        font-size: 14px;
        text-align: center;
        min-height: 44px;
      }

      /* 全息地球容器 */
      .holo {
        order: -1;
        padding: 10px;
      }

      .holo canvas {
        height: 240px;
      }

      .holo > div {
        justify-content: center;
        flex-wrap: wrap;
      }

      .holo > div > div {
        font-size: 11px;
        padding: 6px 10px;
      }

      /* 内容区域 */
      section {
        padding: 50px 16px;
      }

      .section-title {
        font-size: 22px;
        text-align: center;
        margin-bottom: 24px;
      }

      /* 关于我们 */
      #about > div {
        flex-direction: column;
        gap: 20px;
      }

      #about > div > div {
        min-width: 100%;
      }

      /* 服务网格 */
      .services-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .service-card {
        padding: 18px;
        text-align: center;
      }

      /* 作品集网格 */
      .portfolio-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .portfolio-item img {
        height: 160px;
      }

      .portfolio-item > div {
        left: 10px;
        bottom: 8px;
        padding: 6px 10px;
        font-size: 13px;
      }

      /* 联系网格 */
      .contact-icon-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .contact-card {
        padding: 20px;
      }

      .contact-card i {
        font-size: 24px;
      }

      .contact-card div {
        font-size: 14px;
        margin-top: 8px;
      }

      /* 页脚 */
      footer {
        padding: 20px 16px;
        font-size: 12px;
      }
    }

    /* 小屏手机适配 */
    @media (max-width: 480px) {
      .hero-title {
        font-size: 26px;
      }

      .hero-panel {
        padding: 20px;
      }

      .kicker {
        font-size: 10px;
        text-align: center;
      }

      section {
        padding: 40px 12px;
      }

      .holo canvas {
        height: 200px;
      }

      nav {
        top: 70px;
        right: 12px;
        left: 12px;
      }

      nav.active {
        right: 12px;
      }
    }

    /* 横屏适配 */
    @media (max-height: 500px) and (orientation: landscape) {
      .hero {
        min-height: 120vh;
        padding-top: 80px;
      }
      
      .hero-panel {
        grid-template-columns: 1fr 1fr;
      }
    }

    /* 触摸设备优化 */
    @media (hover: none) and (pointer: coarse) {
      .cta {
        min-height: 44px;
      }
      
      .nav-links a {
        padding: 12px 16px;
      }
    }

    @media(max-width:980px) {
      .hero-panel {
        grid-template-columns: 1fr 1fr
      }

      .holo {
        order: 2
      }

      .hero-left {
        order: 1
      }
    }

    @media(max-width:640px) {
      .hero-title {
        font-size: 28px
      }
    }
  </style>
</head>

<body>
  <canvas id="bg-canvas"></canvas>

  <header>
    <div class="logo-row">
      <div class="logo"><img src="img/ayacloud.png" alt="AYA CLOUD"></div>
      <div>
        <div style="font-family:Orbitron;font-weight:700;">AYA CLOUD</div>
        <div style="font-size:12px;color:rgba(200,220,255,0.5)">Map App Studio</div>
      </div>
    </div>

    <nav>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#portfolio">Portfolio</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <!-- 移动端汉堡菜单 -->
    <div class="mobile-menu-toggle">
      <i class="fas fa-bars"></i>
    </div>
  </header>

  <main>
    <section id="home" class="hero">
      <div class="hero-panel">
        <div>
          <div class="kicker">Exploration • AI • Maps</div>
          <h1 class="hero-title">Designing the Future of Map Apps</h1>
          <p class="hero-sub">We craft elegant, high-performance map experiences powered by AI and spatial data.</p>

          <div class="cta-row">
            <button class="cta">Explore Our Services</button>
            <button class="cta secondary">Live Demo</button>
          </div>
        </div>

        <aside class="holo">
          <!-- Earth will render inside this canvas -->
          <canvas id="holo-earth"></canvas>
          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-start">
            <div
              style="padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-size:13px">
              Realtime</div>
            <div
              style="padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-size:13px">
              Vector Tiles</div>
            <div
              style="padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-size:13px">
              3D Tiles</div>
          </div>
        </aside>
      </div>
    </section>

    <section id="about">
      <h2 class="section-title">About Us</h2>
      <div style="max-width:1000px;margin:0 auto;display:flex;gap:24px;align-items:center;flex-wrap:wrap">
        <div style="flex:1;min-width:260px">
          <img src="img/about-us.png" alt="Our Team"
            style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
        </div>
        <div style="flex:1.6;min-width:260px;color:rgba(220,230,255,0.9)">
          <p style="line-height:1.6">AYA CLOUD is a studio focused on AI-driven map applications and spatial UX. We
            build tools that help businesses explore the world, visualize data, and create immersive digital twins. Our
            work blends design, performance engineering and geospatial research to deliver product-ready solutions.</p>
        </div>
      </div>
    </section>

    <section id="services">
      <h2 class="section-title">Our Services</h2>
      <div class="services-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px">
        <div class="service-card"
          style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
          <h3 style="font-family:Orbitron;margin-bottom:8px">App Design</h3>
          <p>Interface & interaction design tailored for spatial products and AR experiences.</p>
        </div>
        <div class="service-card"
          style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
          <h3 style="font-family:Orbitron;margin-bottom:8px">App Development</h3>
          <p>Cross-platform map engines, mobile & web with performance-first engineering.</p>
        </div>
        <div class="service-card"
          style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
          <h3 style="font-family:Orbitron;margin-bottom:8px">Consulting</h3>
          <p>Strategy, product discovery and data architecture for geo products.</p>
        </div>
        <div class="service-card"
          style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
          <h3 style="font-family:Orbitron;margin-bottom:8px">Data Visualization</h3>
          <p>Custom visual layers, analytics dashboards and storytelling with maps.</p>
        </div>
      </div>
    </section>

    <section id="portfolio">
      <h2 class="section-title">Portfolio</h2>
      <div class="portfolio-grid"
        style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px">
        <a class="portfolio-item" href="pingo.html"
          style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);position:relative;background:#071022">
          <img src="img/image1.png" alt="Exploration and Navigation"
            style="width:100%;height:200px;object-fit:cover;display:block">
          <div
            style="position:absolute;left:14px;bottom:12px;background:linear-gradient(90deg,rgba(10,116,218,0.12),rgba(0,123,255,0.12));padding:8px 12px;border-radius:10px;font-weight:700;color:white">
            Exploration & Navigation</div>
        </a>

        <a class="portfolio-item" href="https://map.ayacloud.fr" target="_blank" rel="noopener noreferrer"
          style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);position:relative;background:#071022">
          <img src="img/image6.png" alt="Digital Twin" style="width:100%;height:200px;object-fit:cover;display:block">
          <div
            style="position:absolute;left:14px;bottom:12px;background:linear-gradient(90deg,rgba(10,116,218,0.12),rgba(0,123,255,0.12));padding:8px 12px;border-radius:10px;font-weight:700;color:white">
            Digital Twin</div>
        </a>

        <a class="portfolio-item" href="parvol.html"
          style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);position:relative;background:#071022">
          <img src="img/image3.png" alt="Sports and Tourism"
            style="width:100%;height:200px;object-fit:cover;display:block">
          <div
            style="position:absolute;left:14px;bottom:12px;background:linear-gradient(90deg,rgba(10,116,218,0.12),rgba(0,123,255,0.12));padding:8px 12px;border-radius:10px;font-weight:700;color:white">
            Sports & Tourism</div>
        </a>
      </div>
    </section>

    <section id="contact">
      <h2 class="section-title">Contact Us</h2>
      <div class="contact-icon-grid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:18px">
        <a href="mailto:contact@ayacloud.fr" class="contact-card contact-link"
          style="padding:26px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);text-align:center">
          <i class="fas fa-envelope" style="font-size:28px;color:var(--neon-1)"></i>
          <div style="margin-top:12px;font-weight:700;color:white">contact@ayacloud.fr</div>
        </a>

        <a href="https://www.google.com/maps/search/?api=1&query=60+rue+François+1er+75008+Paris" target="_blank"
          class="contact-card contact-link"
          style="padding:26px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);text-align:center">
          <i class="fas fa-map-marker-alt" style="font-size:28px;color:var(--neon-2)"></i>
          <div style="margin-top:12px;font-weight:700;color:white">60 rue François 1er<br>75008 Paris, France</div>
        </a>

        <a href="support.html" class="contact-card contact-link"
          style="padding:26px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);text-align:center">
          <i class="fas fa-hands-helping" style="font-size:28px;color:var(--accent)"></i>
          <div style="margin-top:12px;font-weight:700;color:white">Support Our Work</div>
        </a>
      </div>
    </section>
  </main>

  <footer>© 2025 AYA CLOUD SAS. All rights reserved.</footer>

  <script>
    // 背景粒子效果 - 立即执行
    (function initParticles() {
      const canvas = document.getElementById('bg-canvas');
      if (!canvas) return;

      const ctx = canvas.getContext('2d');
      let particles = [];

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        createParticles();
      }

      function rand(min, max) {
        return Math.random() * (max - min) + min;
      }

      function createParticles() {
        particles = [];
        const count = Math.min(140, Math.floor(canvas.width * canvas.height / 85000));
        for (let i = 0; i < count; i++) {
          particles.push({
            x: rand(0, canvas.width),
            y: rand(0, canvas.height),
            r: rand(0.6, 2.8),
            vx: rand(-0.25, 0.25),
            vy: rand(-0.08, 0.22),
            hue: rand(190, 220)
          });
        }
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (const p of particles) {
          p.x += p.vx;
          p.y += p.vy;
          if (p.x < -50) p.x = canvas.width + 50;
          if (p.x > canvas.width + 50) p.x = -50;
          if (p.y > canvas.height + 50) p.y = -50;

          const grad = ctx.createRadialGradient(p.x, p.y, p.r * 0.1, p.x, p.y, p.r * 6);
          grad.addColorStop(0, `hsla(${p.hue},90%,70%,0.14)`);
          grad.addColorStop(1, `hsla(${p.hue},90%,60%,0)`);
          ctx.fillStyle = grad;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r * 6, 0, Math.PI * 2);
          ctx.fill();
        }
        requestAnimationFrame(draw);
      }

      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();
      draw();
    })();

    // 地球效果和动画 - 等待DOM加载完成后执行
    document.addEventListener('DOMContentLoaded', function () {
      initEarth();
      initAnimations();
      initMobileMenu();
    });

    function initEarth() {
      const canvas = document.getElementById('holo-earth');
      if (!canvas) {
        console.error('Earth canvas not found');
        return;
      }

      try {
        // 移动端性能优化
        const isMobile = window.innerWidth <= 768;
        const renderer = new THREE.WebGLRenderer({
          canvas: canvas,
          alpha: true,
          antialias: !isMobile // 移动端关闭抗锯齿提升性能
        });
        
        // 移动端降低分辨率
        if (isMobile) {
          renderer.setPixelRatio(1);
        } else {
          renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        }

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 100);
        camera.position.set(0, 0, 2.6);

        // 灯光设置
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 1.2);
        directionalLight.position.set(3, 2, 2);
        scene.add(directionalLight);

        // 移动端简化几何体
        const segments = isMobile ? 32 : 64;
        const geometry = new THREE.SphereGeometry(1, segments, segments);
        
        // 创建地球
        const material = new THREE.MeshStandardMaterial({
          color: 0xffffff, // 改为白色，不覆盖纹理颜色
          metalness: 0.2,  // 降低金属度
          roughness: 0.7,  // 调整粗糙度
          emissive: 0x000000, // 移除自发光或设为黑色
          emissiveIntensity: 0
        });

        const earth = new THREE.Mesh(geometry, material);
        scene.add(earth);

        // 尝试加载纹理
        const textureLoader = new THREE.TextureLoader();
        textureLoader.load(
          'img/earth.jpg',
          (texture) => {
            material.map = texture;
            material.needsUpdate = true;
          },
          undefined,
          (error) => {
            console.log('Earth texture not available, using default material');
            // 添加线框效果
            const wireframeGeometry = new THREE.SphereGeometry(1, 32, 32);
            const wireframeMaterial = new THREE.MeshBasicMaterial({
              color: 0x00b7ff,
              wireframe: true,
              opacity: 0.09,
              transparent: true
            });
            const wireframe = new THREE.Mesh(wireframeGeometry, wireframeMaterial);
            wireframe.scale.set(1.002, 1.002, 1.002);
            scene.add(wireframe);
          }
        );

        // 大气效果
        const atmosphereMaterial = new THREE.SpriteMaterial({
          color: 0x00b7ff,
          opacity: 0.03,
          transparent: true
        });
        const atmosphere = new THREE.Sprite(atmosphereMaterial);
        atmosphere.scale.set(3.8, 3.8, 1);
        scene.add(atmosphere);

        // 添加经纬线
        addGridLines(scene);

        // 调整尺寸
        function handleResize() {
          const rect = canvas.getBoundingClientRect();
          const width = Math.max(1, Math.floor(rect.width));
          const height = Math.max(1, Math.floor(rect.height));

          if (canvas.width !== width || canvas.height !== height) {
            renderer.setSize(width, height, false);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
          }
        }

        window.addEventListener('resize', handleResize);
        handleResize();

        // 交互控制
        let targetRotationY = 0;
        let targetRotationX = 0;
        let isDragging = false;
        let previousMouseX = 0;
        let previousMouseY = 0;

        function onMouseDown(event) {
          isDragging = true;
          previousMouseX = event.clientX;
          previousMouseY = event.clientY;
          canvas.style.cursor = 'grabbing';
        }

        function onMouseMove(event) {
          if (!isDragging) return;

          const deltaX = (event.clientX - previousMouseX) / 200;
          const deltaY = (event.clientY - previousMouseY) / 300;

          targetRotationY += deltaX;
          targetRotationX += deltaY;

          previousMouseX = event.clientX;
          previousMouseY = event.clientY;
        }

        function onMouseUp() {
          isDragging = false;
          canvas.style.cursor = 'grab';
        }

        // 移动端触摸交互优化
        function onTouchStart(event) {
          event.preventDefault();
          if (event.touches.length === 1) {
            onMouseDown(event.touches[0]);
          }
        }

        function onTouchMove(event) {
          event.preventDefault();
          if (event.touches.length === 1) {
            onMouseMove(event.touches[0]);
          }
        }

        canvas.addEventListener('mousedown', onMouseDown);
        window.addEventListener('mousemove', onMouseMove);
        window.addEventListener('mouseup', onMouseUp);

        // 触摸支持
        canvas.addEventListener('touchstart', onTouchStart, { passive: false });
        canvas.addEventListener('touchmove', onTouchMove, { passive: false });
        canvas.addEventListener('touchend', onMouseUp);

        canvas.style.cursor = 'grab';

        // 动画循环
        const autoRotationSpeed = 0.0022;

        function animate() {
          requestAnimationFrame(animate);

          handleResize();

          // 自动旋转 + 平滑跟随鼠标
          earth.rotation.y += autoRotationSpeed;
          earth.rotation.y += (targetRotationY - earth.rotation.y) * 0.06;
          earth.rotation.x += (targetRotationX - earth.rotation.x) * 0.06;

          // 限制X轴旋转角度
          earth.rotation.x = Math.max(-0.8, Math.min(0.8, earth.rotation.x));

          renderer.render(scene, camera);
        }

        animate();

      } catch (error) {
        console.error('Error initializing Earth:', error);
      }
    }

    function addGridLines(scene) {
      const lineMaterial = new THREE.LineBasicMaterial({
        color: 0x007bff,
        transparent: true,
        opacity: 0.06
      });

      // 纬度线
      for (let lat = -75; lat <= 75; lat += 30) {
        const phi = (lat * Math.PI) / 180;
        const radius = Math.cos(phi);
        const y = Math.sin(phi);
        const points = [];

        for (let lon = 0; lon <= 360; lon += 5) {
          const theta = (lon * Math.PI) / 180;
          points.push(new THREE.Vector3(
            radius * Math.cos(theta),
            y,
            radius * Math.sin(theta)
          ));
        }

        const geometry = new THREE.BufferGeometry().setFromPoints(points);
        scene.add(new THREE.Line(geometry, lineMaterial));
      }

      // 经度线
      for (let lon = 0; lon < 360; lon += 30) {
        const theta = (lon * Math.PI) / 180;
        const points = [];

        for (let lat = -90; lat <= 90; lat += 5) {
          const phi = (lat * Math.PI) / 180;
          const radius = Math.cos(phi);
          points.push(new THREE.Vector3(
            radius * Math.cos(theta),
            Math.sin(phi),
            radius * Math.sin(theta)
          ));
        }

        const geometry = new THREE.BufferGeometry().setFromPoints(points);
        scene.add(new THREE.Line(geometry, lineMaterial));
      }
    }

    function initAnimations() {
      // 文本动画
      anime.timeline({ loop: false })
        .add({
          targets: '.hero-title',
          translateY: [30, 0],
          opacity: [0, 1],
          easing: 'easeOutExpo',
          duration: 800
        })
        .add({
          targets: '.hero-sub',
          translateY: [18, 0],
          opacity: [0, 1],
          easing: 'easeOutExpo',
          duration: 700,
          offset: '-=400'
        });
    }

    function initMobileMenu() {
      const mobileToggle = document.querySelector('.mobile-menu-toggle');
      const nav = document.querySelector('nav');
      
      if (mobileToggle && nav) {
        mobileToggle.addEventListener('click', function() {
          nav.classList.toggle('active');
          const icon = mobileToggle.querySelector('i');
          if (nav.classList.contains('active')) {
            icon.className = 'fas fa-times';
          } else {
            icon.className = 'fas fa-bars';
          }
        });
        
        // 点击导航链接后关闭菜单
        document.querySelectorAll('.nav-links a').forEach(link => {
          link.addEventListener('click', () => {
            nav.classList.remove('active');
            mobileToggle.querySelector('i').className = 'fas fa-bars';
          });
        });

        // 点击页面其他区域关闭菜单
        document.addEventListener('click', function(event) {
          if (!event.target.closest('nav') && !event.target.closest('.mobile-menu-toggle')) {
            nav.classList.remove('active');
            mobileToggle.querySelector('i').className = 'fas fa-bars';
          }
        });
      }
    }
  </script>
</body>

</html>